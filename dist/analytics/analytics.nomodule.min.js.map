{"version":3,"file":"analytics.nomodule.min.js","sources":["../../.config/config.js","../../src/core/api.js","../../src/patch/script/patch.js","../../src/analytics/script/analytics/engine/collection.js","../../src/analytics/script/analytics/facade/opt.js","../../src/analytics/script/analytics/facade/init.js","../../src/analytics/script/analytics/cmp/tarte-au-citron-integration.js","../../src/analytics/script/analytics/cmp/consent-manager-platform.js","../../src/analytics/script/analytics/facade/push.js","../../src/analytics/script/analytics/facade/push-type.js","../../src/analytics/script/analytics/action/action-mode.js","../../src/analytics/script/analytics/utils/restricted.js","../../src/analytics/script/analytics/utils/normalize.js","../../src/analytics/script/analytics/utils/type-validator.js","../../src/analytics/script/analytics/action/action-status.js","../../src/analytics/script/analytics/action/action.js","../../src/analytics/script/analytics/action/actions.js","../../src/analytics/script/analytics/engine/renderer.js","../../src/analytics/script/analytics/engine/queue.js","../../src/analytics/script/analytics/facade/debug.js","../../src/analytics/script/analytics/collector/user/status.js","../../src/analytics/script/analytics/collector/user/profile.js","../../src/analytics/script/analytics/collector/user/type.js","../../src/analytics/script/analytics/collector/user/user.js","../../src/analytics/script/analytics/collector/site/environment.js","../../src/analytics/script/analytics/collector/site/site.js","../../src/analytics/script/analytics/collector/page/page.js","../../src/analytics/script/analytics/collector/search/mehod.js","../../src/analytics/script/analytics/collector/search/search.js","../../src/analytics/script/analytics/collector/funnel/funnel.js","../../src/analytics/script/analytics/engine/location.js","../../src/analytics/script/analytics/engine/collector-event.js","../../src/analytics/script/integration/core/actionee-emission.js","../../src/analytics/script/analytics/engine/collector.js","../../src/analytics/script/analytics/analytics.js","../../src/analytics/index.js","../../src/core/script/api/utilities/property/complete-assign.js","../../src/analytics/script/analytics/action/type.js","../../src/analytics/script/analytics/utils/hierarchy/type.js","../../src/analytics/script/analytics/utils/hierarchy/member.js","../../src/analytics/script/analytics/utils/hierarchy/hierarchy.js","../../src/analytics/script/analytics/action/action-element.js","../../src/analytics/script/integration/core/actionee.js","../../src/analytics/script/integration/attributes/attribute-actionee.js","../../src/analytics/script/integration/component/button/button-emission.js","../../src/analytics/script/integration/component/component-actionee.js","../../src/analytics/script/integration/component/accordion/accordion-selector.js","../../src/analytics/script/integration/component/accordion/id.js","../../src/analytics/script/integration/component/accordion/accordion-button-actionee.js","../../src/analytics/script/integration/component/accordion/accordion-actionee.js","../../src/analytics/script/integration/component/breadcrumb/breadcrumb-selector.js","../../src/analytics/script/integration/component/breadcrumb/breadcrumb-button-actionee.js","../../src/analytics/script/integration/component/breadcrumb/breadcrumb-actionee.js","../../src/analytics/script/integration/component/breadcrumb/id.js","../../src/analytics/script/integration/component/breadcrumb/breadcrumb-link-actionee.js","../../src/analytics/script/integration/component/button/button-selector.js","../../src/analytics/script/integration/component/button/button-actionee.js","../../src/analytics/script/integration/component/button/id.js","../../src/analytics/script/integration/component/alert/alert-selector.js","../../src/analytics/script/integration/component/alert/alert-actionee.js","../../src/analytics/script/integration/component/alert/id.js","../../src/analytics/script/integration/component/badge/badge-selector.js","../../src/analytics/script/integration/component/badge/badge-actionee.js","../../src/analytics/script/integration/component/badge/id.js","../../src/analytics/script/integration/component/callout/callout-selector.js","../../src/analytics/script/integration/component/callout/callout-actionee.js","../../src/analytics/script/integration/component/callout/id.js","../../src/analytics/script/integration/component/connect/connect-selector.js","../../src/analytics/script/integration/component/connect/id.js","../../src/analytics/script/integration/component/connect/connect-actionee.js","../../src/analytics/script/integration/component/connect/connect-link-actionee.js","../../src/analytics/script/integration/component/content/content-selector.js","../../src/analytics/script/integration/component/content/content-actionee.js","../../src/analytics/script/integration/component/content/id.js","../../src/analytics/script/integration/component/consent/consent-selector.js","../../src/analytics/script/integration/component/consent/consent-actionee.js","../../src/analytics/script/integration/component/consent/id.js","../../src/analytics/script/integration/component/card/card-selector.js","../../src/analytics/script/integration/component/card/card-actionee.js","../../src/analytics/script/integration/component/card/id.js","../../src/analytics/script/integration/component/checkbox/checkbox-selector.js","../../src/analytics/script/integration/component/checkbox/checkbox-actionee.js","../../src/analytics/script/integration/component/checkbox/id.js","../../src/analytics/script/integration/component/download/download-selector.js","../../src/analytics/script/integration/component/download/download-actionee.js","../../src/analytics/script/integration/component/download/id.js","../../src/analytics/script/integration/component/footer/footer-selector.js","../../src/analytics/script/integration/component/footer/footer-actionee.js","../../src/analytics/script/integration/component/footer/id.js","../../src/analytics/script/integration/component/follow/follow-selector.js","../../src/analytics/script/integration/component/follow/follow-actionee.js","../../src/analytics/script/integration/component/follow/id.js","../../src/analytics/script/integration/component/footer/footer-link-actionee.js","../../src/analytics/script/integration/component/header/header-actionee.js","../../src/analytics/script/integration/component/header/id.js","../../src/analytics/script/integration/component/header/header-selector.js","../../src/analytics/script/integration/component/header/header-modal-button-actionee.js","../../src/analytics/script/integration/component/header/header-modal-actionee.js","../../src/analytics/script/integration/component/header/header-tools-button-actionee.js","../../src/analytics/script/integration/component/header/header-menu-button-actionee.js","../../src/analytics/script/integration/component/highlight/highlight-selector.js","../../src/analytics/script/integration/component/highlight/highlight-actionee.js","../../src/analytics/script/integration/component/highlight/id.js","../../src/analytics/script/integration/component/input/input-selector.js","../../src/analytics/script/integration/component/input/input-actionee.js","../../src/analytics/script/integration/component/input/id.js","../../src/analytics/script/integration/component/link/link-selector.js","../../src/analytics/script/integration/component/link/link-actionee.js","../../src/analytics/script/integration/component/link/id.js","../../src/analytics/script/integration/component/modal/modal-selector.js","../../src/analytics/script/integration/component/modal/modal-actionee.js","../../src/analytics/script/integration/component/modal/id.js","../../src/analytics/script/integration/component/navigation/navigation-selector.js","../../src/analytics/script/integration/component/navigation/navigation-actionee.js","../../src/analytics/script/integration/component/navigation/navigation-section-actionee.js","../../src/analytics/script/integration/component/navigation/navigation-link-actionee.js","../../src/analytics/script/integration/component/navigation/id.js","../../src/analytics/script/integration/component/notice/notice-selector.js","../../src/analytics/script/integration/component/notice/notice-actionee.js","../../src/analytics/script/integration/component/notice/id.js","../../src/analytics/script/integration/component/pagination/pagination-selector.js","../../src/analytics/script/integration/component/pagination/pagination-actionee.js","../../src/analytics/script/integration/component/pagination/id.js","../../src/analytics/script/integration/component/radio/radio-selector.js","../../src/analytics/script/integration/component/form/form-selector.js","../../src/analytics/script/integration/component/radio/radio-actionee.js","../../src/analytics/script/integration/component/radio/id.js","../../src/analytics/script/integration/component/quote/quote-selector.js","../../src/analytics/script/integration/component/quote/quote-actionee.js","../../src/analytics/script/integration/component/quote/id.js","../../src/analytics/script/integration/component/search/search-selector.js","../../src/analytics/script/integration/component/search/search-actionee.js","../../src/analytics/script/integration/component/search/id.js","../../src/analytics/script/integration/component/select/select-selector.js","../../src/analytics/script/integration/component/select/select-actionee.js","../../src/analytics/script/integration/component/select/id.js","../../src/analytics/script/integration/component/sidemenu/sidemenu-selector.js","../../src/analytics/script/integration/component/sidemenu/sidemenu-actionee.js","../../src/analytics/script/integration/component/sidemenu/sidemenu-link-actionee.js","../../src/analytics/script/integration/component/sidemenu/id.js","../../src/analytics/script/integration/component/sidemenu/sidemenu-section-actionee.js","../../src/analytics/script/integration/component/share/share-selector.js","../../src/analytics/script/integration/component/share/share-actionee.js","../../src/analytics/script/integration/component/share/id.js","../../src/analytics/script/integration/component/stepper/stepper-selector.js","../../src/analytics/script/integration/component/stepper/stepper-actionee.js","../../src/analytics/script/integration/component/stepper/id.js","../../src/analytics/script/integration/component/summary/summary-selector.js","../../src/analytics/script/integration/component/summary/summary-actionee.js","../../src/analytics/script/integration/component/summary/summary-link-actionee.js","../../src/analytics/script/integration/component/summary/id.js","../../src/analytics/script/integration/component/summary/summary-section-actionee.js","../../src/analytics/script/integration/component/tab/tab-button-actionee.js","../../src/analytics/script/integration/component/tab/id.js","../../src/analytics/script/integration/component/tab/tab-actionee.js","../../src/analytics/script/integration/component/table/table-selector.js","../../src/analytics/script/integration/component/table/table-actionee.js","../../src/analytics/script/integration/component/table/id.js","../../src/analytics/script/integration/component/tile/tile-selector.js","../../src/analytics/script/integration/component/tile/tile-actionee.js","../../src/analytics/script/integration/component/tile/id.js","../../src/analytics/script/integration/component/toggle/toggle-selector.js","../../src/analytics/script/integration/component/toggle/toggle-actionee.js","../../src/analytics/script/integration/component/toggle/id.js","../../src/analytics/script/integration/component/tag/tag-selector.js","../../src/analytics/script/integration/component/tag/tag-actionee.js","../../src/analytics/script/integration/component/tag/id.js","../../src/analytics/script/integration/component/transcription/transcription-selector.js","../../src/analytics/script/integration/component/transcription/id.js","../../src/analytics/script/integration/component/transcription/transcription-button-actionee.js","../../src/analytics/script/integration/component/transcription/transcription-actionee.js","../../src/analytics/script/integration/component/translate/translate-selector.js","../../src/analytics/script/integration/component/translate/id.js","../../src/analytics/script/integration/component/translate/translate-button-actionee.js","../../src/analytics/script/integration/component/translate/translate-actionee.js","../../src/analytics/script/integration/component/upload/upload-selector.js","../../src/analytics/script/integration/component/upload/upload-actionee.js","../../src/analytics/script/integration/component/upload/id.js","../../src/analytics/script/integration/integration.js","../../src/analytics/script/integration/attributes/attributes.js","../../src/analytics/script/integration/component/components.js","../../src/analytics/main.js"],"sourcesContent":["const config = {\r\n  prefix: 'fr',\r\n  namespace: 'dsfr',\r\n  organisation: '@gouvfr',\r\n  version: '1.9.2'\r\n};\r\n\r\nexport default config;\r\n","import config from './config.js';\nconst api = window[config.namespace];\nexport default api;\n","const patch = {\n  namespace: 'a4e35ba2a938ba9d007689dbf3f46acbb9807869'\n};\n\nexport default patch;\n","const Collection = {\n  MANUAL: 'manual',\n  LOAD: 'load',\n  FULL: 'full',\n  HASH: 'hash'\n};\n\nexport default Collection;\n","const key = '_EA_';\nconst DISABLED = `${key}disabled`;\nconst TOGGLE = `${key}toggle`;\n\nclass Opt {\n  constructor () {\n    this._configure();\n  }\n\n  _configure () {\n    const scope = this;\n    window[DISABLED] = () => scope.isDisabled;\n    window[TOGGLE] = this.toggle.bind(this);\n  }\n\n  get isDisabled () {\n    return localStorage.getItem(key);\n  }\n\n  toggle () {\n    if (this.isDisabled) this.enable();\n    else this.disable();\n  }\n\n  enable () {\n    if (localStorage.getItem(key)) {\n      localStorage.removeItem(key);\n    }\n  }\n\n  disable () {\n    localStorage.setItem(key, '1');\n  }\n}\n\nconst opt = new Opt();\n\nexport default opt;\n","import api from '../../../api.js';\nimport opt from './opt';\n\nconst PUSH = 'EA_push';\n\nclass Init {\n  constructor (domain) {\n    this._domain = domain;\n    this._isLoaded = false;\n    this._promise = new Promise((resolve, reject) => {\n      this._resolve = resolve;\n      this._reject = reject;\n    });\n  }\n\n  get id () {\n    return this._id;\n  }\n\n  get store () {\n    return this._store;\n  }\n\n  configure () {\n    if (opt.isDisabled) this._reject();\n    else this.init();\n    return this._promise;\n  }\n\n  init () {\n    let bit = 5381;\n    for (let i = this._domain.length - 1; i > 0; i--) bit = (bit * 33) ^ this._domain.charCodeAt(i);\n    bit >>>= 0;\n    this._id = `_EA_${bit}`;\n\n    this._store = [];\n    this._store.eah = this._domain;\n    window[this._id] = this._store;\n\n    if (!window[PUSH]) window[PUSH] = (...args) => this.store.push(args);\n\n    this.load();\n  }\n\n  load () {\n    const stamp = new Date() / 1E7 | 0;\n    const offset = stamp % 26;\n    const key = String.fromCharCode(97 + offset, 122 - offset, 65 + offset) + (stamp % 1E3);\n    this._script = document.createElement('script');\n    this._script.ea = this.id;\n    this._script.async = true;\n    this._script.addEventListener('load', this.loaded.bind(this));\n    this._script.addEventListener('error', this.error.bind(this));\n    this._script.src = `//${this._domain}/${key}.js?2`;\n    const node = document.getElementsByTagName('script')[0];\n    node.parentNode.insertBefore(this._script, node);\n  }\n\n  error () {\n    api.inspector.error('unable to load Eulerian script file. the domain declared in your configuration must match the domain provided by the Eulerian interface (tag creation)');\n    this._reject();\n  }\n\n  loaded () {\n    if (this._isLoaded) return;\n    this._isLoaded = true;\n    this._resolve();\n  }\n}\n\nexport { Init };\n\n/*\n(function(e, a) {\n  var i = e.length,\n    y = 5381,\n    k = 'script',\n    s = window,\n    v = document,\n    o = v.createElement(k);\n  for (; i;) {\n    i -= 1;\n    y = (y * 33) ^ e.charCodeAt(i)\n  }\n  y = '_EA_' + (y >>>= 0);\n  (function(e, a, s, y) {\n    s[a] = s[a] || function() {\n      (s[y] = s[y] || []).push(arguments);\n      s[y].eah = e;\n    };\n  }(e, a, s, y));\n  i = new Date / 1E7 | 0;\n  o.ea = y;\n  y = i % 26;\n  o.async = 1;\n  o.src = '//' + e + '/' + String.fromCharCode(97 + y, 122 - y, 65 + y) + (i % 1E3) + '.js?2';\n  s = v.getElementsByTagName(k)[0];\n  s.parentNode.insertBefore(o, s);\n})\n('mon.domainedetracking.com', 'EA_push');\n*/\n\n/*\n(function(e, a) {\n  var i = e.length,\n    y = 5381,\n    k = 'script',\n    z = '_EA_',\n    zd = z + 'disabled',\n    s = window,\n    v = document,\n    o = v.createElement(k),\n    l = s.localStorage;\n  for (; i;) {\n    i -= 1;\n    y = (y * 33) ^ e.charCodeAt(i)\n  }\n  y = z + (y >>>= 0);\n  (function(e, a, s, y, z, zd, l) {\n    s[a] = s[a] || function() {\n      (s[y] = s[y] || []).push(arguments);\n      s[y].eah = e;\n    };\n    s[zd] = function() {\n      return l.getItem(z);\n    };\n    s[z + 'toggle'] = function() {\n      (s[zd]()) ? l.removeItem(z): l.setItem(z, 1);\n    }\n  }(e, a, s, y, z, zd, l));\n  if (!s[zd]()) {\n    i = new Date / 1E7 | 0;\n    o.ea = y;\n    y = i % 26;\n    o.async = 1;\n    o.src = '//' + e + '/' + String.fromCharCode(97 + y, 122 - y, 65 + y) + (i % 1E3) + '.js?2';\n    s = v.getElementsByTagName(k)[0];\n    s.parentNode.insertBefore(o, s);\n  }\n})('mon.domainedetracking.com', 'EA_push');\n*/\n","import api from '../../../api.js';\n\nconst State = {\n  UNKNOWN: -1,\n  CONFIGURING: 0,\n  CONFIGURED: 1,\n  INITIATED: 2,\n  READY: 3\n};\n\nclass TarteAuCitronIntegration {\n  constructor (config) {\n    this._config = config;\n    this._state = State.UNKNOWN;\n    this._promise = new Promise((resolve, reject) => {\n      this._resolve = resolve;\n      this._reject = reject;\n    });\n  }\n\n  configure () {\n    if (this._state >= State.CONFIGURED) return this._promise;\n    if (this._state === State.UNKNOWN) {\n      api.inspector.info('analytics configures tarteaucitron');\n      this._state = State.CONFIGURING;\n    }\n\n    const tarteaucitron = window.tarteaucitron;\n    if (!tarteaucitron || !tarteaucitron.services) {\n      window.requestAnimationFrame(this.configure.bind(this));\n      return;\n    }\n\n    this._state = State.CONFIGURED;\n    const init = this.init.bind(this);\n\n    const data = {\n      key: 'eulerian',\n      type: 'analytic',\n      name: 'Eulerian Analytics',\n      needConsent: true,\n      cookies: ['etuix'],\n      uri: 'https://eulerian.com/vie-privee',\n      js: init,\n      fallback: () => { tarteaucitron.services.eulerian.js(); }\n    };\n\n    tarteaucitron.services.eulerian = data;\n    if (!tarteaucitron.job) tarteaucitron.job = [];\n    tarteaucitron.job.push('eulerian');\n\n    return this._promise;\n  }\n\n  init () {\n    if (this._state >= State.INITIATED) return;\n    this._state = State.INITIATED;\n    window.__eaGenericCmpApi = this.integrate.bind(this);\n    const update = this.update.bind(this);\n    window.addEventListener('tac.close_alert', update);\n    window.addEventListener('tac.close_panel', update);\n  }\n\n  integrate (cmpApi) {\n    if (this._state >= State.READY) return;\n    this._state = State.READY;\n    this._cmpApi = cmpApi;\n\n    api.inspector.info('analytics has integrated tarteaucitron');\n\n    this._resolve();\n    this.update();\n  }\n\n  update () {\n    if (this._state < State.READY) return;\n    this._cmpApi('tac', window.tarteaucitron, 1);\n  }\n}\n\nexport { TarteAuCitronIntegration };\n","import { TarteAuCitronIntegration } from './tarte-au-citron-integration';\n\nclass ConsentManagerPlatform {\n  constructor (config) {\n    this._config = config;\n\n    if (config) {\n      switch (config.id) {\n        case 'tarteaucitron':\n          this.integrateTarteAuCitron();\n          break;\n      }\n    }\n  }\n\n  integrateTarteAuCitron () {\n    this._tac = new TarteAuCitronIntegration(this._config);\n    return this._tac.configure();\n  }\n}\n\nexport { ConsentManagerPlatform };\n","import api from '../../../api.js';\n\nconst push = (type, layer) => {\n  if (typeof window.EA_push !== 'function') {\n    api.inspector.warn('Analytics datalayer not sent, Eulerian API isn\\'t yet avalaible');\n    return;\n  }\n\n  api.inspector.info('analytics', type, layer);\n\n  window.EA_push(type, layer);\n};\n\nexport default push;\n","const PushType = {\n  COLLECTOR: 'collector',\n  ACTION: 'action',\n  ACTION_PARAMETER: 'actionparam'\n};\n\nexport default PushType;\n","const ActionMode = {\n  IN: 'in',\n  OUT: 'out',\n  NONE: 'none'\n};\n\nexport { ActionMode };\n","/*  '[\"\\'<>*$&~`|\\\\\\\\?^~]'; */\nexport default {\n  '0x0022': '＂',\n  '0x0024': '＄',\n  '0x0026': '＆',\n  '0x0027': '＇',\n  '0x002a': '＊',\n  '0x003c': '＜',\n  '0x003e': '＞',\n  '0x003f': '？',\n  '0x005c': '＼',\n  '0x005e': '＾',\n  '0x0060': '｀',\n  '0x007c': '｜',\n  '0x007e': '～'\n};\n","// import TABLE from './unicode-table';\nimport RESTRICTED from './restricted';\n\nconst charCodeHex = (char) => {\n  const code = char.charCodeAt(0).toString(16);\n  return '0x0000'.slice(0, -code.length) + code;\n};\n\nconst normalize = (text) => {\n  if (!text) return text;\n  // text = [...text].map(char => TABLE[charCodeHex(char)] || char).join('');\n  text = [...text].map(char => RESTRICTED[charCodeHex(char)] || char).join('');\n  text = text.replace(/\\s+/g, ' ').replace(/\\s/g, '_');\n  text = text.toLowerCase();\n  return text;\n};\n\nexport default normalize;\n","import api from '../../../api';\n\nconst validateString = (value, name, allowNull = true) => {\n  switch (true) {\n    case typeof value === 'number':\n      return `${value}`;\n\n    case typeof value === 'string':\n      return value;\n\n    case value === undefined && allowNull:\n    case value === null && allowNull:\n      return '';\n  }\n\n  api.inspector.warn(`unexpected value '${value}' set at analytics.${name}. Expecting a String`);\n  return null;\n};\n\nconst validateNumber = (value, name, allowNull = true) => {\n  switch (true) {\n    case !isNaN(value):\n      return value;\n\n    case typeof value === 'string' && !isNaN(Number(value)):\n      return Number(value);\n\n    case value === undefined && allowNull:\n    case value === null && allowNull:\n      return -1;\n  }\n\n  api.inspector.warn(`unexpected value '${value}' set at analytics.${name}. Expecting a Number`);\n  return null;\n};\n\nconst validateBoolean = (value, name) => {\n  switch (true) {\n    case typeof value === 'boolean':\n      return value;\n\n    case typeof value === 'string' && value.toLowerCase() === 'true':\n    case value === '1':\n    case value === 1:\n      return true;\n\n    case typeof value === 'string' && value.toLowerCase() === 'false':\n    case value === '0':\n    case value === 0:\n      return false;\n\n    case value === undefined:\n    case value === null:\n      return value;\n  }\n\n  api.inspector.warn(`unexpected value '${value}' set at analytics.${name}. Expecting a Boolean`);\n  return null;\n};\n\nconst validateLang = (value, name, allowNull = true) => {\n  switch (true) {\n    case typeof value === 'string' && /^[A-Za-z]{2}$|^[A-Za-z]{2}[-_]/.test(value):\n      return value.split(/[-_]/)[0].toLowerCase();\n\n    case value === undefined && allowNull:\n    case value === null && allowNull:\n      return '';\n  }\n\n  api.inspector.warn(`unexpected value '${value}' set at analytics.${name}. Expecting language as a String following ISO 639-1 format`);\n  return null;\n};\n\nconst validateGeography = (value, name, allowNull = true) => {\n  switch (true) {\n    case typeof value === 'string':\n      if (!/^FR-[A-Z0-9]{2,3}$/.test(value)) api.inspector.warn(`value '${value}' set at analytics.${name} with wrong format. Geographic location should be a String following ISO 3166-2:FR format`);\n      return value;\n\n    case value === undefined && allowNull:\n    case value === null && allowNull:\n      return '';\n  }\n\n  api.inspector.warn(`unexpected value '${value}' set at analytics.${name}. Expecting geographic location as a String following ISO 3166-2:FR format`);\n  return null;\n};\n\nexport { validateString, validateNumber, validateBoolean, validateLang, validateGeography };\n","const ActionStatus = {\n  UNSTARTED: {\n    id: 'unstarted',\n    value: -1\n  },\n  STARTED: {\n    id: 'started',\n    value: 1\n  },\n  ENDED: {\n    id: 'ended',\n    value: 2\n  },\n  SINGULAR: {\n    id: 'singular',\n    value: 3\n  }\n};\n\nexport { ActionStatus };\n","import api from '../../../api.js';\nimport normalize from '../utils/normalize';\nimport { ActionMode } from './action-mode';\nimport { validateString } from '../utils/type-validator';\nimport { ActionStatus } from './action-status';\n\nconst getParametersLayer = (data) => {\n  return Object.entries(data).map(([key, value]) => ['actionpname', normalize(key), 'actionpvalue', normalize(value)]).flat();\n};\n\nclass Action {\n  constructor (name) {\n    this._isMuted = false;\n    this._name = name;\n    this._status = ActionStatus.UNSTARTED;\n    this._labels = [];\n    this._parameters = {};\n    this._isRatingActive = true;\n  }\n\n  get isMuted () {\n    return this._isMuted;\n  }\n\n  set isMuted (value) {\n    this._isMuted = value;\n  }\n\n  get status () {\n    return this._status;\n  }\n\n  get name () {\n    return this._name;\n  }\n\n  get labels () {\n    return this._labels;\n  }\n\n  get reference () {\n    return this._reference;\n  }\n\n  get parameters () {\n    return this._parameters;\n  }\n\n  singularize () {\n    this._status = ActionStatus.SINGULAR;\n  }\n\n  rewind () {\n    switch (this._status) {\n      case ActionStatus.STARTED:\n      case ActionStatus.ENDED:\n        this._status = ActionStatus.UNSTARTED;\n    }\n  }\n\n  get isRatingActive () {\n    return this._isRatingActive;\n  }\n\n  set isRatingActive (value) {\n    this._isRatingActive = value;\n  }\n\n  addParameter (key, value) {\n    this._parameters[key] = value;\n  }\n\n  removeParameter (key) {\n    delete this._parameters[key];\n  }\n\n  set reference (value) {\n    const valid = validateString(value, `action ${this._name}`);\n    if (valid !== null) this._reference = valid;\n  }\n\n  get _base () {\n    return ['actionname', this._name];\n  }\n\n  _getLayer (mode, data = {}) {\n    if (this._isMuted) return [];\n    const layer = this._base;\n    switch (mode) {\n      case ActionMode.IN:\n      case ActionMode.OUT:\n        layer.push('actionmode', mode);\n        break;\n    }\n\n    const labels = this._labels.slice(0, 5);\n    labels.length = 5;\n    if (labels.some(label => label)) layer.push('actionlabel', labels.map(label => typeof label === 'string' ? normalize(label) : '').join(','));\n\n    if (this._reference) layer.push('actionref', this._reference);\n\n    layer.push.apply(layer, getParametersLayer(Object.assign(this._parameters, data || {})));\n    return layer;\n  }\n\n  start (data) {\n    let mode;\n    switch (this._status) {\n      case ActionStatus.UNSTARTED:\n        if (!this._isRatingActive || !Action.isRatingEnabled) return [];\n        mode = ActionMode.IN;\n        this._status = ActionStatus.STARTED;\n        break;\n\n      case ActionStatus.SINGULAR:\n        mode = ActionMode.NONE;\n        break;\n\n      default:\n        api.inspector.error(`unexpected start on action ${this._name} with status ${this._status.id}`);\n        return [];\n    }\n    const layer = this._getLayer(mode, data);\n    return layer;\n  }\n\n  end (data) {\n    let mode;\n    switch (this._status) {\n      case ActionStatus.STARTED:\n        mode = ActionMode.OUT;\n        this._status = ActionStatus.ENDED;\n        break;\n\n      case ActionStatus.UNSTARTED:\n      case ActionStatus.ENDED:\n        mode = ActionMode.NONE;\n        this._status = ActionStatus.ENDED;\n        break;\n\n      case ActionStatus.SINGULAR:\n        mode = ActionMode.NONE;\n        break;\n    }\n    const layer = this._getLayer(mode, data);\n    return layer;\n  }\n\n  resume (data) {\n    if (this._isMuted) return [];\n    if (this._status.value >= ActionStatus.ENDED.value) {\n      api.inspector.error(`unexpected resuming on action ${this._name} with status ${this._status.id}`);\n      return [];\n    }\n    const layer = this._base;\n    if (data) layer.push.apply(layer, getParametersLayer(data));\n    return layer;\n  }\n}\n\nAction.isRatingEnabled = false;\n\nexport { Action };\n","import { ActionMode } from './action-mode';\nimport { Action } from './action';\n\nclass Actions {\n  constructor () {\n    this._actions = [];\n  }\n\n  configure (config) {\n    Action.isRatingEnabled = config.enableRating === true;\n  }\n\n  rewind () {\n    this._actions.forEach(action => action.rewind());\n  }\n\n  getAction (name) {\n    let action = this._actions.filter(action => action.name === name)[0];\n    if (!action) {\n      action = new Action(name);\n      this._actions.push(action);\n    }\n    return action;\n  }\n\n  hasAction (name) {\n    return this._actions.some(action => action.name === name);\n  }\n\n  remove (action) {\n    const index = this._actions.indexOf(action);\n    if (index === -1) return false;\n    this._actions.splice(index, 1);\n    return true;\n  }\n}\n\nActions.ActionMode = ActionMode;\n\nconst actions = new Actions();\nActions.instance = actions;\n\nexport default actions;\n","class Renderer {\n  constructor () {\n    this._renderables = [];\n    this._rendering = this.render.bind(this);\n    requestAnimationFrame(this._rendering);\n  }\n\n  add (renderable) {\n    const index = this._renderables.indexOf(renderable);\n    if (index === -1) this._renderables.push(renderable);\n  }\n\n  remove (renderable) {\n    const index = this._renderables.indexOf(renderable);\n    if (index > -1) this._renderables.splice(index, 1);\n  }\n\n  render () {\n    this._renderables.forEach(renderable => renderable.render());\n    requestAnimationFrame(this._rendering);\n  }\n}\n\nconst renderer = new Renderer();\n\nexport default renderer;\n","\nimport PushType from '../facade/push-type.js';\nimport push from '../facade/push.js';\nimport renderer from './renderer';\nimport api from '../../../api';\n\nconst SLICE = 80;\n\nclass Queue {\n  constructor () {\n    this._startingActions = [];\n    this._endingActions = [];\n    this._handlingVisibilityChange = this._handleVisibilityChange.bind(this);\n    this._handlingEnd = this._handleEnd.bind(this);\n    this._isStarted = false;\n    this._isListening = false;\n    this.reset();\n  }\n\n  reset (ending = false) {\n    this._type = PushType.ACTION;\n    if (!ending) this._startingActions.length = 0;\n    this._endingActions.length = 0;\n    this._collectionLayer = [];\n    this._count = 0;\n    this._delay = -1;\n    this._isRequested = false;\n    this._unlisten();\n  }\n\n  start () {\n    if (this._isStarted) return;\n    this._isStarted = true;\n    renderer.add(this);\n  }\n\n  collect (layer) {\n    this._type = PushType.COLLECTOR;\n    this._collectionLayer = layer;\n    this._request();\n  }\n\n  appendStartingAction (action) {\n    if (!action || this._startingActions.indexOf(action) > -1) {\n      api.inspector.log('appendStartingAction', action, `index: ${this._startingActions.indexOf(action)}`);\n      return;\n    }\n    this._startingActions.push(action);\n    this._request();\n  }\n\n  appendEndingAction (action) {\n    if (!action || this._endingActions.indexOf(action) > -1) {\n      api.inspector.log('appendEndingAction', action, `index: ${this._endingActions.indexOf(action)}`);\n      return;\n    }\n    this._endingActions.push(action);\n    this._request();\n  }\n\n  _request () {\n    this._listen();\n    this._isRequested = true;\n    this._delay = 4;\n  }\n\n  _listen () {\n    if (this._isListening) return;\n    this._isListening = true;\n    document.addEventListener('visibilitychange', this._handlingVisibilityChange);\n    document.addEventListener('unload', this._handlingEnd);\n    document.addEventListener('beforeunload', this._handlingEnd);\n    document.addEventListener('pagehide', this._handlingEnd);\n  }\n\n  _unlisten () {\n    if (!this._isListening) return;\n    this._isListening = false;\n    document.removeEventListener('visibilitychange', this._handlingVisibilityChange);\n    document.removeEventListener('unload', this._handlingEnd);\n    document.removeEventListener('beforeunload', this._handlingEnd);\n    document.removeEventListener('pagehide', this._handlingEnd);\n  }\n\n  _handleVisibilityChange (e) {\n    if (document.visibilityState === 'hidden') this.send();\n  }\n\n  _handleEnd () {\n    this.send();\n  }\n\n  render () {\n    if (this._delay <= -1) return;\n    this._delay--;\n    this._count++;\n    switch (true) {\n      case this._count > 20:\n      case this._delay === 0:\n        this.send();\n        break;\n    }\n  }\n\n  send (ending = false) {\n    if (!this._isRequested) return;\n    const actionLayers = [];\n    if (!ending) actionLayers.push(...this._startingActions.map(action => action.start()).filter(layer => layer.length > 0));\n    actionLayers.push(...this._endingActions.map(action => action.end()).filter(layer => layer.length > 0));\n\n    const length = ((actionLayers.length / SLICE) + 1) | 0;\n    const slices = [];\n    for (let i = 0; i < length; i++) {\n      const slice = actionLayers.slice(i * SLICE, (i + 1) * SLICE);\n      slices.push(slice.flat());\n    }\n\n    push(this._type, [...this._collectionLayer, ...slices[0]]);\n\n    if (slices.length > 1) {\n      for (let i = 1; i < slices.length; i++) {\n        push(PushType.ACTION, slices[i]);\n      }\n    }\n\n    this.reset(ending);\n  }\n}\n\nconst queue = new Queue();\n\nexport default queue;\n","class Debug {\n  get debugger () {\n    return window._oEa;\n  }\n\n  get isActive () {\n    if (!this.debugger) return false;\n    return this.debugger._dbg === '1';\n  }\n\n  set isActive (value) {\n    if (this.isActive === value) return;\n    this.debugger.debug(value ? 1 : 0);\n  }\n}\n\nconst debug = new Debug();\n\nexport default debug;\n","const Status = {\n  CONNECTED: {\n    id: 'connected',\n    value: 'connecté',\n    isConnected: true,\n    isDefault: true\n  },\n  ANONYMOUS: {\n    id: 'anonymous',\n    value: 'anonyme',\n    isConnected: false,\n    isDefault: true\n  },\n  GUEST: {\n    id: 'guest',\n    value: 'invité',\n    isConnected: false\n  }\n};\n\nexport default Status;\n","const Profile = {\n  VISITOR: {\n    id: 'visitor',\n    value: 'visitor'\n  },\n  LOOKER: {\n    id: 'looker',\n    value: 'looker'\n  },\n  SHOPPER: {\n    id: 'shopper',\n    value: 'shopper'\n  },\n  BUYER: {\n    id: 'buyer',\n    value: 'buyer'\n  },\n  REBUYER: {\n    id: 'rebuyer',\n    value: 'rebuyer'\n  }\n};\n\nexport default Profile;\n","const Type = {\n  INDIVIDUAL: {\n    id: 'individual',\n    value: 'part'\n  },\n  PROFESSIONNAL: {\n    id: 'professionnal',\n    value: 'pro'\n  }\n};\n\nexport default Type;\n","import api from '../../../../api';\nimport Status from './status';\nimport Profile from './profile';\nimport Type from './type';\nimport normalize from '../../utils/normalize';\nimport { validateBoolean, validateLang, validateString } from '../../utils/type-validator';\n\nclass User {\n  constructor (config) {\n    this._config = config || {};\n  }\n\n  reset (clear = false) {\n    this._isConnected = false;\n    this.status = Status.ANONYMOUS;\n    if (!clear && this._config.connect) this.connect(this._config.connect.uid, this._config.connect.email, this._config.connect.isNew);\n    else {\n      this._uid = undefined;\n      this._email = undefined;\n      this._isNew = false;\n    }\n    this.profile = clear ? undefined : this._config.profile;\n    this.language = clear ? undefined : this._config.language;\n    this.type = clear ? undefined : this._config.type;\n  }\n\n  connect (uid, email, isNew = false) {\n    this._uid = validateString(uid, 'user.uid');\n    if (/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~.-]{2,}@[a-zA-Z0-9-]{2,}\\.[a-zA-Z]{2,}$/.test(email)) api.inspector.warn('Please check analytics.user.email is properly encrypted ');\n    this._email = validateString(email, 'user.email');\n    this._isNew = validateBoolean(isNew);\n    this._isConnected = true;\n    this.status = Status.CONNECTED;\n  }\n\n  get uid () {\n    return this._uid;\n  }\n\n  get email () {\n    return this._email;\n  }\n\n  get isNew () {\n    return this._isNew;\n  }\n\n  set status (id) {\n    const stati = Object.values(Status).filter(status => status.isConnected === this._isConnected);\n    this._status = stati.filter(status => status.id === id || status.value === id)[0] || stati.filter(status => status.isDefault)[0];\n  }\n\n  get status () {\n    return this._status.id;\n  }\n\n  set profile (id) {\n    this._profile = Object.values(Profile).filter(profile => profile.id === id || profile.value === id)[0];\n  }\n\n  get profile () {\n    return this._profile.id;\n  }\n\n  set language (value) {\n    const valid = validateLang(value, 'user.language');\n    if (valid !== null) this._language = valid;\n  }\n\n  get language () {\n    return this._language || navigator.language;\n  }\n\n  set type (id) {\n    this._type = Object.values(Type).filter(type => type.id === id || type.value === id)[0];\n  }\n\n  get type () {\n    return this._type.id;\n  }\n\n  get layer () {\n    const layer = [];\n    if (this.uid) layer.push('uid', normalize(this.uid));\n    if (this.email) layer.push('email', normalize(this.email));\n    if (this.isNew) layer.push('newcustomer', '1');\n    if (this.language) layer.push('user_language', this.language);\n    layer.push('user_login_status', this._status.value);\n    if (this._profile) layer.push('profile', this._profile.value);\n    if (this._type) layer.push('user_type', this._type.value);\n    return layer;\n  }\n}\n\nUser.Status = Status;\nUser.Profile = Profile;\nUser.Type = Type;\n\nexport { User };\n","const Environment = {\n  DEVELOPMENT: {\n    id: 'development',\n    value: 'dev'\n  },\n  STAGE: {\n    id: 'stage',\n    value: 'stage'\n  },\n  PRODUCTION: {\n    id: 'production',\n    value: 'prod'\n  }\n};\n\nexport default Environment;\n","import api from '../../../../api';\nimport Environment from './environment';\nimport normalize from '../../utils/normalize';\nimport { validateGeography, validateLang, validateString } from '../../utils/type-validator';\n\nclass Site {\n  constructor (config) {\n    this._config = config || {};\n  }\n\n  reset (clear = false) {\n    this.environment = clear ? Environment.DEVELOPMENT.id : this._config.environment;\n    this.entity = clear ? undefined : this._config.entity;\n    this.language = clear ? undefined : this._config.language;\n    this.target = clear ? undefined : this._config.target;\n    this.type = clear ? undefined : this._config.type;\n    this.region = clear ? undefined : this._config.region;\n    this.department = clear ? undefined : this._config.department;\n    this._api = api.version;\n  }\n\n  set environment (value) {\n    switch (value) {\n      case Environment.PRODUCTION.id:\n      case Environment.PRODUCTION.value:\n        this._environment = Environment.PRODUCTION;\n        break;\n\n      case Environment.STAGE.id:\n      case Environment.STAGE.value:\n        this._environment = Environment.STAGE;\n        break;\n\n      case Environment.DEVELOPMENT.id:\n      case Environment.DEVELOPMENT.value:\n        this._environment = Environment.DEVELOPMENT;\n        break;\n\n      default:\n        this._environment = Environment.DEVELOPMENT;\n    }\n  }\n\n  get environment () {\n    return this._environment ? this._environment.id : Environment.DEVELOPMENT.id;\n  }\n\n  set entity (value) {\n    const valid = validateString(value, 'site.entity');\n    if (valid !== null) this._entity = valid;\n  }\n\n  get entity () {\n    return this._entity;\n  }\n\n  set language (value) {\n    const valid = validateLang(value, 'site.language');\n    if (valid !== null) this._language = valid;\n  }\n\n  get language () {\n    return this._language || document.documentElement.lang;\n  }\n\n  set target (value) {\n    const valid = validateString(value, 'site.target');\n    if (valid !== null) this._target = valid;\n  }\n\n  get target () {\n    return this._target;\n  }\n\n  set type (value) {\n    const valid = validateString(value, 'site.type');\n    if (valid !== null) this._type = valid;\n  }\n\n  get type () {\n    return this._type;\n  }\n\n  set region (value) {\n    const valid = validateGeography(value, 'site.region');\n    if (valid !== null) this._region = valid;\n  }\n\n  get region () {\n    return this._region;\n  }\n\n  set department (value) {\n    const valid = validateGeography(value, 'site.department');\n    if (valid !== null) this._department = valid;\n  }\n\n  get department () {\n    return this._department;\n  }\n\n  get api () {\n    return this._api;\n  }\n\n  get layer () {\n    const layer = [];\n    layer.push('site_environment', this._environment.value);\n    if (this.entity) layer.push('site_entity', normalize(this.entity));\n    else api.inspector.warn('entity is required in analytics.site');\n    if (this.language) layer.push('site_language', this.language);\n    if (this.target) layer.push('site_target', normalize(this.target));\n    if (this.type) layer.push('site_type', normalize(this.type));\n    if (this.region) layer.push('site_region', this.region);\n    if (this.department) layer.push('site_department', this.department);\n    if (this.api) layer.push('api_version', this.api);\n    return layer;\n  }\n}\n\nSite.Environment = Environment;\n\nexport { Site };\n","import normalize from '../../utils/normalize';\nimport { validateBoolean, validateNumber, validateString } from '../../utils/type-validator';\n\nclass Page {\n  constructor (config) {\n    this._config = config || {};\n  }\n\n  reset (clear = false) {\n    this.path = clear ? '' : this._config.path;\n    this.referrer = clear ? '' : this._config.referrer;\n    this.title = clear ? '' : this._config.title;\n    this.name = clear ? '' : this._config.name;\n    this._labels = clear || !this._config.labels ? ['', '', '', '', ''] : this._config.labels;\n    this._categories = clear || !this._config.categories ? ['', '', ''] : this._config.categories;\n    this._labels.length = 5;\n    this.isError = !clear && this._config.isError;\n    this.template = clear ? '' : this._config.template;\n    this.group = clear ? '' : this._config.group;\n    this.segment = clear ? '' : this._config.segment;\n    this.subtemplate = clear ? '' : this._config.subtemplate;\n    this.theme = clear ? '' : this._config.theme;\n    this.subtheme = clear ? '' : this._config.subtheme;\n    this.related = clear ? '' : this._config.related;\n    this.depth = clear || isNaN(this._config.depth) ? 0 : this._config.depth;\n    this.current = clear || isNaN(this._config.current) ? -1 : this._config.current;\n    this.total = clear || isNaN(this._config.total) ? -1 : this._config.total;\n    this._filters = clear || !this._config.filters ? [] : this._config.filters;\n  }\n\n  set path (value) {\n    const valid = validateString(value, 'page.path');\n    if (valid !== null) this._path = valid;\n  }\n\n  get path () {\n    return this._path || `${document.location.pathname}${document.location.search}`;\n  }\n\n  set referrer (value) {\n    const valid = validateString(value, 'page.referrer');\n    if (valid !== null) this._referrer = valid;\n  }\n\n  get referrer () {\n    return this._referrer;\n  }\n\n  set title (value) {\n    const valid = validateString(value, 'page.title');\n    if (valid !== null) this._title = valid;\n  }\n\n  get title () {\n    return this._title || document.title;\n  }\n\n  set name (value) {\n    const valid = validateString(value, 'page.name');\n    if (valid !== null) this._name = valid;\n  }\n\n  get name () {\n    return this._name || this.title;\n  }\n\n  get labels () {\n    return this._labels;\n  }\n\n  get categories () {\n    return this._categories;\n  }\n\n  set isError (value) {\n    const valid = validateBoolean(value, 'page.isError');\n    if (valid !== null) this._isError = valid;\n  }\n\n  get isError () {\n    return this._isError;\n  }\n\n  set template (value) {\n    const valid = validateString(value, 'page.template');\n    if (valid !== null) this._template = valid;\n  }\n\n  get template () {\n    return this._template || 'autres';\n  }\n\n  set segment (value) {\n    const valid = validateString(value, 'page.segment');\n    if (valid !== null) this._segment = valid;\n  }\n\n  get segment () {\n    return this._segment || this.template;\n  }\n\n  set group (value) {\n    const valid = validateString(value, 'page.group');\n    if (valid !== null) this._group = valid;\n  }\n\n  get group () {\n    return this._group || this.template;\n  }\n\n  set subtemplate (value) {\n    const valid = validateString(value, 'page.subtemplate');\n    if (valid !== null) this._subtemplate = valid;\n  }\n\n  get subtemplate () {\n    return this._subtemplate;\n  }\n\n  set theme (value) {\n    const valid = validateString(value, 'page.theme');\n    if (valid !== null) this._theme = valid;\n  }\n\n  get theme () {\n    return this._theme;\n  }\n\n  set subtheme (value) {\n    const valid = validateString(value, 'page.subtheme');\n    if (valid !== null) this._subtheme = valid;\n  }\n\n  get subtheme () {\n    return this._subtheme;\n  }\n\n  set related (value) {\n    const valid = validateString(value, 'page.related');\n    if (valid !== null) this._related = valid;\n  }\n\n  get related () {\n    return this._related;\n  }\n\n  set depth (value) {\n    const valid = validateNumber(value, 'page.depth');\n    if (valid !== null) this._depth = valid;\n  }\n\n  get depth () {\n    return this._depth;\n  }\n\n  set current (value) {\n    const valid = validateNumber(value, 'page.current');\n    if (valid !== null) this._current = valid;\n  }\n\n  get current () {\n    return this._current;\n  }\n\n  set total (value) {\n    const valid = validateNumber(value, 'page.total');\n    if (valid !== null) this._total = valid;\n  }\n\n  get total () {\n    return this._total;\n  }\n\n  get filters () {\n    return this._filters;\n  }\n\n  get layer () {\n    const layer = [];\n    if (this.path) layer.push('path', normalize(this.path));\n    if (this.referrer) layer.push('referrer', normalize(this.referrer));\n    if (this.title) layer.push('page_title', normalize(this.title));\n    if (this.name) layer.push('page_name', normalize(this.name));\n\n    const labels = this._labels.slice(0, 5);\n    labels.length = 5;\n    if (labels.some(label => label)) layer.push('pagelabel', labels.map(label => typeof label === 'string' ? normalize(label) : '').join(','));\n\n    this._categories.forEach((category, index) => {\n      if (category) layer.push(`page_category${index + 1}`, category);\n    });\n\n    if (this._isError) layer.push('error', '1');\n\n    layer.push('page_template', normalize(this.template));\n    layer.push('pagegroup', normalize(this.group));\n    layer.push('site-segment', normalize(this.segment));\n\n    if (this.subtemplate) layer.push('page_subtemplate', normalize(this.subtemplate));\n    if (this.theme) layer.push('page_theme', normalize(this.theme));\n    if (this.subtheme) layer.push('page_subtheme', normalize(this.subtheme));\n    if (this.related) layer.push('page_related', normalize(this.related));\n    if (!isNaN(this.depth)) layer.push('page_depth', this.depth);\n\n    if (!isNaN(this.current) && this.current > -1) {\n      let pagination = `${this.current}`;\n      if (!isNaN(this.total) && this.total > -1) pagination += `/${this.total}`;\n      layer.push('page_pagination', pagination);\n    } else {\n      // TODO: get pagination value\n    }\n\n    if (this.filters.length && this.filters.some(label => label)) {\n      const filters = this.filters.map(filter => typeof filter === 'string' ? normalize(filter) : '');\n      layer.push('page_filters', filters.join(','));\n    }\n    return layer;\n  }\n}\n\nexport { Page };\n","const Method = {\n  STANDARD: {\n    id: 'standard',\n    value: 'standard',\n    isDefault: true\n  },\n  AUTOCOMPLETE: {\n    id: 'autocomplete',\n    value: 'autocompletion'\n  }\n};\n\nexport default Method;\n","import normalize from '../../utils/normalize';\nimport { validateNumber, validateString } from '../../utils/type-validator';\nimport Method from './mehod';\n\nclass Search {\n  constructor (config) {\n    this._config = config || {};\n  }\n\n  reset (clear = false) {\n    this.engine = clear ? undefined : this._config.engine;\n    this.results = clear || isNaN(this._config.results) ? -1 : this._config.results;\n    this.terms = clear ? undefined : this._config.terms;\n    this.category = clear ? undefined : this._config.category;\n    this.theme = clear ? undefined : this._config.theme;\n    this.type = clear ? undefined : this._config.type;\n    this.method = clear ? undefined : this._config.method;\n  }\n\n  set engine (value) {\n    const valid = validateString(value, 'search.engine');\n    if (valid !== null) this._engine = valid;\n  }\n\n  get engine () {\n    return this._engine;\n  }\n\n  set results (value) {\n    const valid = validateNumber(value, 'search.results');\n    if (valid !== null) this._results = valid;\n  }\n\n  get results () {\n    return this._results;\n  }\n\n  set terms (value) {\n    const valid = validateString(value, 'search.terms');\n    if (valid !== null) this._terms = valid;\n  }\n\n  get terms () {\n    return this._terms;\n  }\n\n  set category (value) {\n    const valid = validateString(value, 'search.category');\n    if (valid !== null) this._category = valid;\n  }\n\n  get category () {\n    return this._category;\n  }\n\n  set theme (value) {\n    const valid = validateString(value, 'search.theme');\n    if (valid !== null) this._theme = valid;\n  }\n\n  get theme () {\n    return this._theme;\n  }\n\n  set type (value) {\n    const valid = validateString(value, 'search.type');\n    if (valid !== null) this._type = valid;\n    this._type = value;\n  }\n\n  get type () {\n    return this._type;\n  }\n\n  set method (id) {\n    const methods = Object.values(Method);\n    this._method = methods.filter(method => method.id === id || method.value === id)[0] || methods.filter(method => method.isDefault)[0];\n  }\n\n  get method () {\n    return this._method;\n  }\n\n  get layer () {\n    const layer = [];\n    if (this.engine) layer.push('isearchengine', normalize(this.engine));\n    if (this.results > -1) layer.push('isearchresults', this.results);\n    if (this.terms) layer.push('isearchkey', 'search_terms', 'isearchdata', normalize(this.terms));\n    if (this.category) layer.push('isearchkey', 'search_category', 'isearchdata', normalize(this.category));\n    if (this.theme) layer.push('isearchkey', 'search_theme', 'isearchdata', normalize(this.theme));\n    if (this.type) layer.push('isearchkey', 'search_type', 'isearchdata', normalize(this.type));\n    if (this._method && layer.length) layer.push('isearchkey', 'search_method', 'isearchdata', this._method.value);\n    return layer;\n  }\n}\n\nSearch.Method = Method;\n\nexport { Search };\n","import normalize from '../../utils/normalize';\nimport { validateNumber, validateString } from '../../utils/type-validator';\n\nclass Funnel {\n  constructor (config) {\n    this._config = config || {};\n  }\n\n  reset (clear = false) {\n    this.id = clear ? undefined : this._config.id;\n    this.type = clear ? undefined : this._config.type;\n    this.name = clear ? undefined : this._config.name;\n    this.step = clear ? undefined : this._config.step;\n    this.current = clear || isNaN(this._config.current) ? -1 : this._config.current;\n    this.total = clear || isNaN(this._config.total) ? -1 : this._config.total;\n    this.objective = clear ? undefined : this._config.objective;\n    this.error = clear ? undefined : this._config.error;\n  }\n\n  set id (value) {\n    const valid = validateString(value, 'funnel.id');\n    if (valid !== null) this._id = valid;\n  }\n\n  get id () {\n    return this._id;\n  }\n\n  set type (value) {\n    const valid = validateString(value, 'funnel.type');\n    if (valid !== null) this._type = valid;\n  }\n\n  get type () {\n    return this._type;\n  }\n\n  set name (value) {\n    const valid = validateString(value, 'funnel.name');\n    if (valid !== null) this._name = valid;\n  }\n\n  get name () {\n    return this._name;\n  }\n\n  set step (value) {\n    const valid = validateString(value, 'funnel.step');\n    if (valid !== null) this._step = valid;\n  }\n\n  get step () {\n    return this._step;\n  }\n\n  set current (value) {\n    const valid = validateNumber(value, 'funnel.current');\n    if (valid !== null) this._current = valid;\n  }\n\n  get current () {\n    return this._current;\n  }\n\n  set total (value) {\n    const valid = validateNumber(value, 'funnel.total');\n    if (valid !== null) this._total = valid;\n  }\n\n  get total () {\n    return this._total;\n  }\n\n  set objective (value) {\n    const valid = validateString(value, 'funnel.objective');\n    if (valid !== null) this._objective = valid;\n    this._objective = value;\n  }\n\n  get objective () {\n    return this._objective;\n  }\n\n  set error (value) {\n    const valid = validateString(value, 'funnel.error');\n    if (valid !== null) this._error = valid;\n    this._error = value;\n  }\n\n  get error () {\n    return this._error;\n  }\n\n  get layer () {\n    const layer = [];\n    if (this.id) layer.push('funnel_id', normalize(this.id));\n    if (this.type) layer.push('funnel_type', normalize(this.type));\n    if (this.name) layer.push('funnel_name', normalize(this.name));\n    if (this.step) layer.push('funnel_step_name', normalize(this.step));\n    if (!isNaN(this.current) && this.current > -1) layer.push('funnel_step_number', this.current);\n    if (!isNaN(this.total) && this.total > -1) layer.push('funnel_step_max', this.total);\n    if (this.objective) layer.push('funnel_objective', normalize(this.objective));\n    if (this.error) layer.push('funnel_error', normalize(this.error));\n    return layer;\n  }\n}\n\nexport { Funnel };\n","import renderer from './renderer';\n\nclass Location {\n  constructor (onChange, isListeningHash = false) {\n    this._onChange = onChange;\n    this._isListeningHash = isListeningHash;\n    this._update();\n    renderer.add(this);\n  }\n\n  _update () {\n    this._pathname = document.location.pathname;\n    this._search = document.location.search;\n    this._hash = document.location.hash;\n    this._path = `${this._pathname}${this._search}`;\n    if (this._isListeningHash) this._path += this._hash;\n    this._hasTitle = this._title === document.title;\n    this._title = document.title;\n  }\n\n  render () {\n    if (this._pathname !== document.location.pathname || this._search !== document.location.search) this.change();\n    if (this._isListeningHash && this._hash !== document.location.hash) this.change();\n  }\n\n  change () {\n    this._referrer = this._path;\n    this._update();\n    this._onChange();\n  }\n\n  get path () {\n    return this._path;\n  }\n\n  get hasTitle () {\n    return this._hasTitle;\n  }\n\n  get title () {\n    return this._title;\n  }\n\n  get referrer () {\n    return this._referrer;\n  }\n}\n\nexport { Location };\n","import api from '../../../api.js';\n\nconst CollectorEvent = {\n  COLLECT: api.internals.ns.event('collect')\n};\n\nexport { CollectorEvent };\n","import api from '../../../api.js';\n\nexport const ActioneeEmission = {\n  REWIND: api.internals.ns.emission('analytics', 'rewind')\n};\n","import Collection from './collection.js';\nimport api from '../../../api';\nimport { User } from '../collector/user/user';\nimport { Site } from '../collector/site/site';\nimport { Page } from '../collector/page/page';\nimport { Search } from '../collector/search/search';\nimport { Funnel } from '../collector/funnel/funnel';\nimport queue from './queue';\nimport renderer from './renderer';\nimport actions from '../action/actions';\nimport { Location } from './location';\nimport { CollectorEvent } from './collector-event';\nimport { ActioneeEmission } from '../../integration/core/actionee-emission';\n\nclass Collector {\n  constructor (config) {\n    switch (config.collection) {\n      case Collection.MANUAL:\n      case Collection.LOAD:\n      case Collection.FULL:\n      case Collection.HASH:\n        this._collection = config.collection;\n        break;\n\n      default:\n        /* deprecated start */\n        if (config.mode) {\n          switch (config.mode) {\n            case 'manual':\n              this._collection = config.collection;\n              break;\n          }\n        }\n        /* deprecated end */\n\n        switch (true) {\n          /* deprecated */\n          case config.mode === 'manual':\n            this._collection = Collection.MANUAL;\n            break;\n\n          case api.mode === api.Modes.ANGULAR:\n          case api.mode === api.Modes.REACT:\n          case api.mode === api.Modes.VUE:\n            this._collection = Collection.FULL;\n            break;\n\n          default:\n            this._collection = Collection.LOAD;\n        }\n    }\n\n    this._user = new User(config.user);\n    this._site = new Site(config.site);\n    this._page = new Page(config.page);\n    this._search = new Search(config.search);\n    this._funnel = new Funnel(config.funnel);\n\n    this._isCollected = false;\n    this._delay = -1;\n  }\n\n  get page () {\n    return this._page;\n  }\n\n  get user () {\n    return this._user;\n  }\n\n  get site () {\n    return this._site;\n  }\n\n  get search () {\n    return this._search;\n  }\n\n  get funnel () {\n    return this._funnel;\n  }\n\n  start () {\n    const handleChange = this._handleChange.bind(this);\n    switch (this._collection) {\n      case Collection.LOAD:\n        this.collect();\n        break;\n\n      case Collection.FULL:\n        this.collect();\n        this._location = new Location(handleChange);\n        break;\n\n      case Collection.HASH:\n        this.collect();\n        this._location = new Location(handleChange, true);\n        break;\n    }\n  }\n\n  _handleChange () {\n    queue.send(true);\n    this._delay = 6;\n    renderer.add(this);\n  }\n\n  render () {\n    this._delay--;\n    if (this._delay < 0) {\n      renderer.remove(this);\n      this._changed();\n    }\n  }\n\n  _changed () {\n    this._isCollected = false;\n    actions.rewind();\n    this._page.referrer = this._location.referrer;\n    if (this._location.hasTitle) this._page.title = this._location.title;\n    this._page.path = this._location.path;\n    const event = new CustomEvent(CollectorEvent.COLLECT);\n    document.documentElement.dispatchEvent(event);\n    this.collect();\n    if (api.internals && api.internals.stage && api.internals.stage.root) api.internals.stage.root.descend(ActioneeEmission.REWIND);\n  }\n\n  reset (clear = false) {\n    this._user.reset(clear);\n    this._site.reset(clear);\n    this._page.reset(clear);\n    this._search.reset(clear);\n    this._funnel.reset(clear);\n  }\n\n  collect () {\n    if (this._isCollected) return;\n    queue.collect(this.layer);\n    this._isCollected = true;\n  }\n\n  get collection () {\n    return this._collection;\n  }\n\n  get layer () {\n    return [\n      ...this._user.layer,\n      ...this._site.layer,\n      ...this._page.layer,\n      ...this._search.layer,\n      ...this._funnel.layer\n    ];\n  }\n}\n\nexport { Collector };\n","import api from '../../api.js';\nimport patch from '../../../patch/script/patch';\nimport Collection from './engine/collection';\nimport { Init } from './facade/init';\nimport { ConsentManagerPlatform } from './cmp/consent-manager-platform';\nimport push from './facade/push';\nimport PushType from './facade/push-type';\nimport actions from './action/actions';\nimport queue from './engine/queue';\nimport opt from './facade/opt';\nimport debug from './facade/debug';\nimport { Collector } from './engine/collector';\n\nclass Analytics {\n  constructor () {\n    this._isReady = false;\n    this._readiness = new Promise((resolve, reject) => {\n      if (this._isReady) resolve();\n      else {\n        this._resolve = resolve;\n        this._reject = reject;\n      }\n    });\n    this._configure();\n  }\n\n  _configure () {\n    switch (true) {\n      case window[patch.namespace] !== undefined:\n        this._config = window[patch.namespace].configuration.analytics;\n        window[patch.namespace].promise.then(this._build.bind(this), () => {});\n        break;\n\n      case api.internals !== undefined && api.internals.configuration !== undefined && api.internals.configuration.analytics !== undefined && api.internals.configuration.analytics.domain !== undefined:\n        this._config = api.internals.configuration.analytics;\n        this._build();\n        break;\n\n      case api.analytics !== undefined && api.analytics.domain !== undefined:\n        this._config = api.analytics;\n        this._build();\n        break;\n\n      default:\n        api.inspector.warn('analytics configuration is incorrect or missing (required : domain)');\n    }\n  }\n\n  _build () {\n    this._init = new Init(this._config.domain);\n    this._init.configure().then(this._start.bind(this), this._reject);\n  }\n\n  get isReady () {\n    return this._isReady;\n  }\n\n  get readiness () {\n    return this._readiness;\n  }\n\n  _start () {\n    if (this._isReady) return;\n\n    this._cmp = new ConsentManagerPlatform(this._config.cmp);\n    this._collector = new Collector(this._config);\n    this._collector.reset();\n    actions.configure(this._config);\n\n    this._isReady = true;\n    this._resolve();\n\n    queue.start();\n    this._collector.start();\n  }\n\n  get page () {\n    return this._collector.page;\n  }\n\n  get user () {\n    return this._collector.user;\n  }\n\n  get site () {\n    return this._collector._site;\n  }\n\n  get search () {\n    return this._collector.search;\n  }\n\n  get funnel () {\n    return this._collector.funnel;\n  }\n\n  get cmp () {\n    return this._cmp;\n  }\n\n  get opt () {\n    return opt;\n  }\n\n  get collection () {\n    return this._collector.collection;\n  }\n\n  get isDebugging () {\n    return debug.isActive;\n  }\n\n  set isDebugging (value) {\n    debug.isActive = value;\n  }\n\n  push (type, layer) {\n    push(type, layer);\n  }\n\n  reset (clear = false) {\n    this._collector.reset();\n  }\n\n  collect () {\n    this._collector.collect();\n  }\n}\n\nconst analytics = new Analytics();\n\nanalytics.Collection = Collection;\nanalytics.PushType = PushType;\n\nexport default analytics;\n","import api from './api.js';\nimport analytics from './script/analytics/analytics';\nimport { completeAssign } from '../core/script/api/utilities/property/complete-assign';\n\napi.analytics = completeAssign(analytics, {});\n\nexport default api;\n","/**\n * Copy properties from multiple sources including accessors.\n * source : https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#copier_des_accesseurs\n *\n * @param {object} [target] - Target object to copy into\n * @param {...objects} [sources] - Multiple objects\n * @return {object} A new object\n *\n * @example\n *\n *     const obj1 = {\n *        key: 'value'\n *     };\n *     const obj2 = {\n *        get function01 () {\n *          return a-value;\n *        }\n *        set function01 () {\n *          return a-value;\n *        }\n *     };\n *     completeAssign(obj1, obj2)\n */\nconst completeAssign = (target, ...sources) => {\n  sources.forEach(source => {\n    const descriptors = Object.keys(source).reduce((descriptors, key) => {\n      descriptors[key] = Object.getOwnPropertyDescriptor(source, key);\n      return descriptors;\n    }, {});\n\n    Object.getOwnPropertySymbols(source).forEach(sym => {\n      const descriptor = Object.getOwnPropertyDescriptor(source, sym);\n      if (descriptor.enumerable) {\n        descriptors[sym] = descriptor;\n      }\n    });\n    Object.defineProperties(target, descriptors);\n  });\n  return target;\n};\n\nexport { completeAssign };\n","export const Type = {\n  // impression\n  IMPRESSION: {\n    id: 'impression', // element appeared in the page\n    isSingular: true,\n    isBeginning: true,\n    attributed: false,\n    type: 'impression'\n  },\n  // interaction\n  CLICK: {\n    id: 'click', // generic click interaction\n    isBeginning: true,\n    attributed: true,\n    type: 'interaction',\n    event: 'click',\n    method: 'eventListener'\n  },\n  INTERNAL: {\n    id: 'internal', // anchor click redirecting on an internal url\n    isBeginning: true,\n    attributed: true,\n    type: 'interaction',\n    event: 'click',\n    method: 'eventListener'\n  },\n  EXTERNAL: {\n    id: 'external', // anchor click redirecting on an external url\n    isBeginning: true,\n    attributed: true,\n    type: 'interaction',\n    event: 'click',\n    method: 'eventListener'\n  },\n  DOWNLOAD: {\n    id: 'download', // anchor click downloading a file\n    isBeginning: true,\n    attributed: true,\n    type: 'interaction',\n    event: 'click',\n    method: 'eventListener'\n  },\n  BUTTON: {\n    id: 'button', // button click\n    isBeginning: true,\n    attributed: true,\n    type: 'interaction',\n    event: 'click',\n    method: 'eventListener'\n  },\n  DOUBLE_CLICK: {\n    id: 'dblclick', // double click\n    isBeginning: true,\n    attributed: true,\n    type: 'interaction',\n    event: 'dblclick',\n    method: 'eventListener'\n  },\n  // event\n  OPEN: {\n    id: 'open', // open event\n    isSingular: true,\n    attributed: false,\n    type: 'event',\n    method: 'eventListener'\n  },\n  COMPLETE: {\n    id: 'complete', // complete event\n    isSingular: true,\n    attributed: false,\n    type: 'event',\n    method: 'eventListener'\n  },\n  FOCUS: {\n    id: 'focus', // focus event\n    isSingular: true,\n    attributed: false,\n    type: 'event',\n    method: 'eventListener'\n  },\n  ERROR: {\n    id: 'error', // error event\n    isSingular: true,\n    attributed: false,\n    type: 'event'\n  },\n  ADD: {\n    id: 'add', // add event\n    isSingular: true,\n    attributed: false,\n    type: 'event'\n  },\n  REMOVE: {\n    id: 'remove', // remove event\n    isSingular: true,\n    attributed: false,\n    type: 'event'\n  },\n  DISPLAY: {\n    id: 'display', // display event\n    isSingular: true,\n    attributed: false,\n    type: 'event'\n  },\n  CHANGE: {\n    id: 'change', // input event change\n    isSingular: true,\n    attributed: true,\n    type: 'event',\n    event: 'change',\n    method: 'change'\n  },\n  PROGRESS: {\n    id: 'progress', // video retention event with percent of the part reached\n    isBeginning: true,\n    attributed: true,\n    type: 'event'\n  },\n  // component interaction\n  SHARE: {\n    id: 'share', // component share click (share)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  PRESS: {\n    id: 'press', // component press click (pressable tag)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  RELEASE: {\n    id: 'release', // component release click (pressable tag)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  DISMISS: {\n    id: 'dismiss', // component dismiss click (dismissible tag)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  UPLOAD: {\n    id: 'upload', // component upload click (upload)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  CHECK: {\n    id: 'check', // component check click (checkbox, radio, toggle)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  UNCHECK: {\n    id: 'uncheck', // component uncheck click (checkbox, radio, toggle)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  SELECT: {\n    id: 'select', // component select change (select)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  SUBSCRIBE: {\n    id: 'subscribe', // component subscribe click (follow)\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  // component event\n  DISCLOSE: {\n    id: 'disclose', // component disclose event (accordion, modal, tab)\n    isBeginning: true,\n    attributed: false,\n    type: 'event'\n  },\n  SEARCH: {\n    id: 'search', // component disclose event (accordion, modal, tab)\n    isBeginning: true,\n    attributed: false,\n    type: 'event'\n  },\n  SHOW: {\n    id: 'show', // component show event (tooltip)\n    isSingular: true,\n    attributed: false,\n    type: 'event'\n  },\n  HIDE: {\n    id: 'hide', // component hide event (tooltip)\n    isSingular: true,\n    attributed: false,\n    type: 'event'\n  },\n  // video\n  AUTOPLAY: {\n    id: 'autoplay', // video autoplay event\n    isBeginning: true,\n    attributed: false,\n    type: 'event'\n  },\n  PLAY: {\n    id: 'play', // video play click\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  PAUSE: {\n    id: 'pause', // video pause click\n    isBeginning: true,\n    attributed: false,\n    type: 'interaction'\n  },\n  END: {\n    id: 'end', // video end event\n    isBeginning: true,\n    attributed: false,\n    type: 'event'\n  }\n};\n\nexport default Type;\n","const Type = {\n  UNDEFINED: 'undefined',\n  HEADING: 'heading',\n  COMPONENT: 'component',\n  CONTENT: 'content'\n};\n\nexport { Type };\n","import api from '../../../../api';\nimport { Type } from './type';\n\nconst NODE_POSITION = Node.DOCUMENT_POSITION_PRECEDING | Node.DOCUMENT_POSITION_CONTAINED_BY;\n\nclass Heading {\n  constructor (heading) {\n    this._label = heading.textContent.trim();\n    this._level = Number(heading.tagName.charAt(1));\n  }\n\n  get level () {\n    return this._level;\n  }\n\n  get label () {\n    return this._label;\n  }\n}\n\nclass Member {\n  constructor (node, target, level) {\n    this._type = Type.UNDEFINED;\n    this._node = node;\n    this._target = target;\n    this._level = level;\n    this._label = '';\n    this._component = '';\n    this._isValid = true;\n    this.analyse();\n  }\n\n  _parseHeadings () {\n    const selector = Array.from({ length: this._level }, (v, i) => `h${i + 1}`).join(',');\n    this._headings = Array.from(this._node.querySelectorAll(selector)).filter(heading => heading === this._node || heading.parentNode === this._node || (heading.parentNode != null && heading.parentNode.parentNode === this._node)).filter(heading => (this._target.compareDocumentPosition(heading) & NODE_POSITION) > 0).map(heading => new Heading(heading)).reverse();\n  }\n\n  _getComponent () {\n    if (typeof api !== 'function') return false;\n    const element = api(this._node);\n    if (!element) return false;\n    const instance = Object.values(element).filter(actionee => actionee.isActionee).sort((a, b) => b.priority - a.priority)[0];\n    if (!instance) return false;\n\n    this._type = Type.COMPONENT;\n    this._isValid = instance.validate(this._target);\n    const selector = Array.from({ length: 6 }, (v, i) => `h${i + 1}`).join(',');\n    const heading = this._node.closest(selector);\n    if (heading) {\n      this._level = Number(heading.tagName.charAt(1)) - 1;\n    }\n\n    if (!isNaN(instance.level) && instance.level < this._level) this._level = instance.level;\n    this._label = instance.label;\n    this._component = instance.component;\n    return true;\n  }\n\n  _getHeading () {\n    if (!this._headings.length) return false;\n    const labels = [];\n    this._headings.forEach(heading => {\n      if (heading.level <= this._level) {\n        if (heading.level > 1) labels.unshift(heading.label);\n        this._level = heading.level - 1;\n      }\n    });\n    if (!labels.length) return false;\n    this._type = Type.HEADING;\n    this._label = labels.join(' › ');\n    return true;\n  }\n\n  analyse () {\n    this._parseHeadings();\n    if (this._getComponent()) return;\n    if (this._getHeading()) return;\n    if (this._node !== this._target) return;\n\n    const label = this._node.textContent.trim();\n    if (!label) return;\n    this._type = Type.CONTENT;\n    this._label = label;\n  }\n\n  get type () {\n    return this._type;\n  }\n\n  get level () {\n    return this._level;\n  }\n\n  get label () {\n    return this._label;\n  }\n\n  get component () {\n    return this._component;\n  }\n\n  get node () {\n    return this._node;\n  }\n\n  get target () {\n    return this._target;\n  }\n\n  get isValid () {\n    return this._isValid;\n  }\n}\n\nexport { Member };\n","import normalize from '../normalize';\nimport { Member } from './member';\nimport { Type } from './type';\n\nclass Hierarchy {\n  constructor (node) {\n    this._node = node;\n    this._process();\n  }\n\n  _process () {\n    // console.log('_______________ start ____________________');\n    const member = new Member(this._node, this._node, 6);\n    // console.log('- FIRST MEMBER', member);\n    this._level = member.level;\n    this._members = [member];\n\n    let node = this._node.parentNode;\n\n    while (document.documentElement.contains(node) && node !== document.documentElement && this._level > 0) {\n      // console.log('MEMBERS ARRAY', this._members);\n      // console.log('NODE ANALYSIS', node);\n      const member = new Member(node, this._node, this._level);\n      // console.log('NEW MEMBER', member);\n      switch (true) {\n        case member.type === Type.UNDEFINED:\n          // console.log('****UNDEFINED');\n          break;\n\n        case !member.isValid:\n          // console.log('****INVALID');\n          break;\n\n        case member.label === this._members[0].label && member.type === Type.HEADING && this._members[0].type === Type.COMPONENT:\n          // console.log('***** SAME');\n          // do nothing\n          break;\n\n        case member.label === this._members[0].label && member.type === Type.COMPONENT && this._members[0].type === Type.HEADING:\n          // console.log('***** SAME INVERT');\n          this._members.splice(0, 1, member);\n          break;\n\n        default:\n          this._members.unshift(member);\n          if (member.level < this._level) this._level = member.level;\n      }\n\n      node = node.parentNode;\n    }\n\n    this._label = normalize(this._members[this._members.length - 1].label);\n    this._title = normalize(this._members.filter(member => member.label).map(member => member.label).join(' › '));\n    const components = this._members.filter(member => member.component).map(member => member.component);\n    this._component = normalize(components.join(' › '));\n    this._localComponent = components[components.length - 1];\n    this._globalComponent = components[0];\n\n    // console.log('========= end ===========');\n  }\n\n  get localComponent () {\n    return this._localComponent;\n  }\n\n  get globalComponent () {\n    return this._globalComponent;\n  }\n\n  get label () {\n    return this._label;\n  }\n\n  get title () {\n    return this._title;\n  }\n\n  get component () {\n    return this._component;\n  }\n}\n\nexport { Hierarchy };\n","import api from '../../../api';\nimport actions from './actions';\nimport { Hierarchy } from '../utils/hierarchy/hierarchy';\nimport queue from '../engine/queue';\n\nclass ActionElement {\n  constructor (node, type, id, category = '', title = null, parameters = {}, isRatingActive) {\n    this._node = node;\n    this._type = type;\n    this._id = id || this._node.id;\n    this._isMuted = false;\n    this._title = title;\n    this._category = category;\n    this._parameters = parameters;\n    this._isRatingActive = isRatingActive;\n    this._hasBegun = false;\n\n    // this._init();\n    requestAnimationFrame(this._init.bind(this));\n  }\n\n  _init () {\n    this._hierarchy = new Hierarchy(this._node);\n\n    let id = '';\n    let type = '';\n    if (this._id) id = `_[${this._id}]`;\n    else api.inspector.warn(`Analytics API requires an id to be set on tracked element. Missing on ${this._node.outerHTML}`);\n    if (this._type) type = `(${this._type.id})_`;\n    this._name = `${type}${this._title || this._hierarchy.title}${id}`;\n\n    this._action = actions.getAction(this._name, this._type.status);\n    this._action.isRatingActive = this._isRatingActive;\n    if (this._type.isSingular) this._action.singularize();\n    Object.keys(this._parameters).forEach(key => this._action.addParameter(key, this._parameters[key]));\n    this._action.isMuted = this._isMuted;\n\n    this._action.labels[0] = this._type.id;\n    this._action.labels[1] = this._hierarchy.globalComponent;\n    this._action.labels[2] = this._hierarchy.localComponent;\n    this._action.labels[4] = this._category;\n\n    if (this._hierarchy.label) this._action.addParameter('component_label', this._hierarchy.label);\n    if (this._hierarchy.title) this._action.addParameter('heading_hierarchy', this._hierarchy.title);\n    if (this._hierarchy.component) this._action.addParameter('component_hierarchy', this._hierarchy.component);\n\n    this.begin();\n  }\n\n  get isMuted () {\n    return this._action ? this._action.isMuted : this._isMuted;\n  }\n\n  set isMuted (value) {\n    this._isMuted = value;\n    if (this._action) this._action.isMuted = value;\n  }\n\n  get action () {\n    return this._action;\n  }\n\n  rewind () {\n    this._hasBegun = false;\n    this.begin();\n  }\n\n  begin () {\n    if (this._hasBegun) return;\n    this._hasBegun = true;\n    if (this._type.isBeginning) queue.appendStartingAction(this._action);\n  }\n\n  act (data = {}) {\n    if (this._isMuted) return;\n    if (!this._action) {\n      requestAnimationFrame(() => this.act(data));\n      return;\n    }\n    queue.appendEndingAction(this._action);\n  }\n\n  dispose () {\n    actions.remove(this._action);\n  }\n}\n\nexport { ActionElement };\n","import api from '../../../api.js';\nimport { Type } from '../../analytics/action/type';\nimport { ActionElement } from '../../analytics/action/action-element';\nimport { ActioneeEmission } from './actionee-emission';\n\nclass Actionee extends api.core.Instance {\n  constructor (priority = -1, isRatingActive = false, category = '', title = null) {\n    super();\n    this._type = null;\n    this._priority = priority;\n    this._category = category;\n    this._title = title;\n    this._parameters = {};\n    this._data = {};\n    this._isMuted = false;\n    this._isRatingActive = isRatingActive;\n  }\n\n  static get instanceClassName () {\n    return 'Actionee';\n  }\n\n  get proxy () {\n    const scope = this;\n\n    const proxy = {\n      validate: (target, members) => scope.validate(target, members)\n    };\n\n    const proxyAccessors = {\n      get isActionee () {\n        return true;\n      },\n      get label () {\n        return scope.label;\n      },\n      get priority () {\n        return scope.priority;\n      },\n      get level () {\n        return scope.level;\n      },\n      get node () {\n        return scope.node; // TODO: remove in v2\n      }\n    };\n\n    return api.internals.property.completeAssign(super.proxy, proxy, proxyAccessors);\n  }\n\n  _config (element, registration) {\n    super._config(element, registration);\n\n    if (this._type === null) {\n      this._isMuted = true;\n      return;\n    }\n\n    this._actionElement = new ActionElement(this.node, this._type, this.id, this._category, this._title, this._parameters, this._isRatingActive);\n    if (this._isMuted) this._actionElement.isMuted = true;\n\n    this.addDescent(ActioneeEmission.REWIND, this.rewind.bind(this));\n\n    const actionees = element.instances.filter(instance => instance.isActionee && instance.type).sort((a, b) => b.priority - a.priority);\n    if (actionees.length <= 1) return;\n    actionees.forEach((actionee, index) => { actionee.isMuted = index > 0; });\n  }\n\n  get isMuted () {\n    return this._actionElement ? this._actionElement.isMuted : this._isMuted;\n  }\n\n  set isMuted (value) {\n    this._isMuted = value;\n    if (this._actionElement) this._actionElement.isMuted = value;\n  }\n\n  get priority () {\n    return this._priority;\n  }\n\n  setPriority (value) {\n    this._priority = value;\n  }\n\n  get isInteractive () {\n    return this.node.tagName === 'A' || this.node.tagName === 'BUTTON';\n  }\n\n  detectInteractionType (node) {\n    if (!node) node = this.node;\n    const tag = node.tagName;\n    const href = node.getAttribute('href');\n    const isDownload = node.hasAttribute('download');\n    const hostname = node.hostname;\n\n    switch (true) {\n      case tag !== 'A':\n        this._type = Type.CLICK;\n        break;\n\n      case isDownload:\n        this._type = Type.DOWNLOAD;\n        this._parameters.component_value = href;\n        break;\n\n      case hostname === location.hostname :\n        this._type = Type.INTERNAL;\n        this._parameters.component_value = href;\n        break;\n\n      case hostname.length > 0 :\n        this._type = Type.EXTERNAL;\n        this._parameters.component_value = href;\n        break;\n\n      default:\n        this._type = Type.CLICK;\n        break;\n    }\n  }\n\n  setClickType () {\n    this._type = Type.CLICK;\n  }\n\n  listenClick (target) {\n    if (target) {\n      this._clickTarget = target;\n      this._clickHandler = this.handleClick.bind(this);\n      this._clickTarget.addEventListener('click', this._clickHandler, { capture: true });\n    } else this.listen('click', this.handleClick.bind(this), { capture: true });\n  }\n\n  handleClick () {\n    this.act();\n  }\n\n  setImpressionType () {\n    this._type = Type.IMPRESSION;\n  }\n\n  rewind () {\n    if (this._actionElement) this._actionElement.rewind();\n  }\n\n  act (data = {}) {\n    if (this._actionElement !== undefined) this._actionElement.act(Object.assign(this._data, data));\n  }\n\n  getFirstText (node) {\n    if (!node) node = this.node;\n    if (node.childNodes && node.childNodes.length > 0) {\n      for (let i = 0; i < node.childNodes.length; i++) {\n        if (node.childNodes[i].nodeType === Node.TEXT_NODE) {\n          const text = node.childNodes[i].textContent.trim();\n          if (text) {\n            return this.cropText(text);\n          }\n        }\n      }\n\n      for (let i = 0; i < node.childNodes.length; i++) {\n        const text = this.getFirstText(node.childNodes[i]);\n        if (text) {\n          return this.cropText(text);\n        }\n      }\n    }\n    return '';\n  }\n\n  cropText (text, length = 50) {\n    return text.length > 50 ? `${text.substring(0, 50).trim()}[...]` : text;\n  }\n\n  getInteractionLabel () {\n    const title = this.getAttribute('title');\n    if (title) return this.cropText(title);\n\n    const text = this.getFirstText();\n    if (text) return text;\n\n    const img = this.node.querySelector('img');\n    if (img) {\n      const alt = img.getAttribute('alt');\n      if (alt) return this.cropText(alt);\n    }\n\n    return null;\n  }\n\n  getHeadingLabel (length = 6) {\n    const selector = Array.from({ length: length }, (v, i) => `h${i + 1}`).join(',');\n    const headings = this.node.querySelector(selector) ? [...this.node.querySelector(selector)].filter(heading => (this.node.compareDocumentPosition(heading) & Node.DOCUMENT_POSITION_CONTAINED_BY) > 0) : [];\n    if (headings.length) {\n      for (const heading of headings) {\n        const text = this.getFirstText(heading);\n        if (text) return text;\n      }\n    }\n  }\n\n  detectLevel (node) {\n    if (!node) node = this.node;\n    const selector = Array.from({ length: 6 }, (v, i) => `h${i + 1}`).join(',');\n    const levels = Array.from(node.querySelectorAll(selector)).map(heading => Number(heading.tagName.charAt(1)));\n    if (levels.length) this._level = Math.min.apply(null, levels) - 1;\n  }\n\n  validate (target) {\n    return true;\n  }\n\n  get actionElement () {\n    return this._actionElement;\n  }\n\n  get label () {\n    return null;\n  }\n\n  get isActionee () {\n    return true;\n  }\n\n  get level () {\n    return this._level;\n  }\n\n  get type () {\n    return this._type;\n  }\n\n  dispose () {\n    if (this._clickTarget) {\n      this._clickTarget.removeEventListener('click', this._clickHandler);\n    }\n    super.dispose();\n  }\n}\n\nexport { Actionee };\n","import Type from '../../analytics/action/type';\nimport { Actionee } from '../core/actionee';\n\nclass AttributeActionee extends Actionee {\n  constructor () {\n    super(100);\n  }\n\n  static get instanceClassName () {\n    return 'AttributeActionee';\n  }\n\n  init () {\n    this._attribute = this.registration.selector.replace(/[[\\]]/g, '');\n    const id = this._attribute.split('-').pop();\n    this._type = Object.values(Type).filter(type => type.id === id)[0];\n    this._title = this.getAttribute(this._attribute);\n    if (this._type === Type.CLICK) this.detectInteractionType();\n\n    switch (this._type.method) {\n      case 'eventListener':\n        this.listen(this._type.event, this.handleEvent.bind(this));\n        break;\n\n      case 'change':\n        this.listen(this._type.event, this.handleChange.bind(this));\n        break;\n    }\n  }\n\n  handleEvent (e) {\n    this._actionElement.act();\n  }\n\n  handleChange (e) {\n    this._actionElement.act({ change_value: e.target.value });\n  }\n\n  dispose () {\n    this._actionElement.dispose();\n    super.dispose();\n  }\n}\n\nexport { AttributeActionee };\n","import api from '../../../../api.js';\n\nexport const ButtonEmission = {\n  CLICK: api.internals.ns.emission('button', 'click')\n};\n","import api from '../../../api.js';\nimport { Type } from '../../analytics/action/type';\nimport { Actionee } from '../core/actionee';\nimport { ButtonEmission } from './button/button-emission';\n\nclass ComponentActionee extends Actionee {\n  constructor (priority = -1, isRatingActive = false) {\n    super(priority, isRatingActive, 'dsfr_component');\n  }\n\n  static get instanceClassName () {\n    return 'ComponentActionee';\n  }\n\n  get proxy () {\n    const scope = this;\n\n    const proxyAccessors = {\n      get component () {\n        return scope.component;\n      }\n    };\n\n    return api.internals.property.completeAssign(super.proxy, proxyAccessors);\n  }\n\n  setDiscloseType () {\n    this._type = Type.DISCLOSE;\n  }\n\n  listenDisclose () {\n    this.listen(api.core.DisclosureEvent.DISCLOSE, this._handleDisclose.bind(this), { capture: true });\n  }\n\n  _handleDisclose () {\n    this.act();\n  }\n\n  setChangeType () {\n    this._type = Type.CHANGE;\n  }\n\n  listenChange () {\n    this.listen('change', this._handleChange.bind(this), { capture: true });\n  }\n\n  _handleChange (e) {\n    if (e.target && e.target.value) {\n      this._data.component_value = e.target.value;\n      this.act();\n    }\n  }\n\n  listenInputValidation (node, type = Type.CLICK) {\n    if (!node) node = this.node;\n    this._type = type;\n    this.addAscent(ButtonEmission.CLICK, this._actValidatedInput.bind(this));\n    const button = this.element.getDescendantInstances('ButtonActionee', null, true)[0];\n    if (button) button.isMuted = true;\n    this._validatedInput = node.querySelector('input');\n    this._inputValidationHandler = this._handleInputValidation.bind(this);\n    if (this._validatedInput) this._validatedInput.addEventListener('keydown', this._inputValidationHandler);\n  }\n\n  _handleInputValidation (e) {\n    if (e.keyCode === 13) this._actValidatedInput();\n  }\n\n  _actValidatedInput () {\n    if (this._isActingValidatedInput) return;\n    this._isActingValidatedInput = true;\n    this.act({ component_value: this._validatedInput.value.trim() });\n    this.request(() => { this._isActingValidatedInput = false; });\n  }\n\n  setCheckType () {\n    this._type = Type.CHECK;\n  }\n\n  detectCheckableType () {\n    const isChecked = this.node.checked;\n    this._type = isChecked ? Type.UNCHECK : Type.CHECK;\n  }\n\n  listenCheckable () {\n    this.listen('change', this._handleCheckable.bind(this), { capture: true });\n  }\n\n  _handleCheckable (e) {\n    if (e.target && e.target.value !== 'on') {\n      this._data.component_value = e.target.value;\n    }\n\n    switch (true) {\n      case this._type === Type.CHECK && e.target.checked:\n      case this._type === Type.UNCHECK && !e.target.checked:\n        this.act();\n        break;\n    }\n  }\n\n  detectPressableType () {\n    const isPressable = this.node.hasAttribute('aria-pressed');\n    if (isPressable) {\n      const isPressed = this.node.getAttribute('aria-pressed') === 'true';\n      this._type = isPressed ? Type.RELEASE : Type.PRESS;\n    }\n    return isPressable;\n  }\n\n  listenPressable () {\n    this.listen('click', this._handlePressable.bind(this), { capture: true });\n  }\n\n  _handlePressable (e) {\n    // if (e.target && e.target.value !== 'on') {\n    //   this._data.component_value = e.target.value;\n    // }\n\n    switch (true) {\n      case this._type === Type.PRESS && e.target.getAttribute('aria-pressed') === 'false':\n      case this._type === Type.RELEASE && e.target.getAttribute('aria-pressed') === 'true':\n        this.act();\n        break;\n    }\n  }\n\n  setDismissType () {\n    this._type = Type.DISMISS;\n  }\n\n  get component () {\n    return null;\n  }\n\n  dispose () {\n    if (this._validatedInput) {\n      this._validatedInput.removeEventListener('keydown', this._inputValidationHandler);\n    }\n\n    super.dispose();\n  }\n}\n\nexport { ComponentActionee };\n","import api from '../../../../api';\n\nexport const AccordionSelector = {\n  ACCORDION: api.internals.ns.selector('accordion'),\n  TITLE: api.internals.ns.selector('accordion__title')\n};\n","const ID = 'accordion';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass AccordionButtonActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'AccordionButtonActionee';\n  }\n\n  init () {\n    this.setClickType();\n    this.id = this.node.id || this.registration.creator.node.id;\n    this.listenClick();\n  }\n\n  get button () {\n    return this.element.getInstance('CollapseButton');\n  }\n\n  handleClick () {\n    if (this.button && !this.button.disclosed) this.act();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n\n    return 'bouton d\\'accordéon';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { AccordionButtonActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport { AccordionSelector } from './accordion-selector';\nimport { AccordionButtonActionee } from './accordion-button-actionee';\nimport ID from './id';\n\nclass AccordionActionee extends ComponentActionee {\n  constructor () {\n    super(2, true);\n  }\n\n  static get instanceClassName () {\n    return 'AccordionActionee';\n  }\n\n  init () {\n    this.setDiscloseType();\n    this.wrapper = this.node.closest(AccordionSelector.ACCORDION);\n    this.detectLevel(this.wrapper);\n    this.register(`[aria-controls=\"${this.id}\"]`, AccordionButtonActionee);\n    this.listenDisclose();\n  }\n\n  get label () {\n    if (this.wrapper) {\n      const title = this.wrapper.querySelector(AccordionSelector.TITLE);\n      if (title) {\n        const text = this.getFirstText(title);\n        if (text) return text;\n      }\n    }\n    const instance = this.element.getInstance('Collapse');\n    if (instance) {\n      const button = instance.buttons.filter(button => button.isPrimary)[0];\n      if (button) {\n        const text = this.getFirstText(button);\n        if (text) return text;\n      }\n    }\n    return 'accordéon';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { AccordionActionee };\n","import api from '../../../../api';\n\nexport const BreadcrumbSelector = {\n  LINK: api.internals.ns.selector('breadcrumb__link'),\n  COLLAPSE: `${api.internals.ns.selector('breadcrumb')} ${api.internals.ns.selector('collapse')}`\n};\n","import { ComponentActionee } from '../component-actionee';\nimport api from '../../../../api';\n\nclass BreadcrumbButtonActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'BreadcrumbButtonActionee';\n  }\n\n  init () {\n    if (this.isBreakpoint(api.core.Breakpoints.MD)) return;\n    this.setClickType();\n    this.id = this.node.id || this.registration.creator.node.id;\n    this.listenClick();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n    return 'voir le fil d\\'ariane';\n  }\n\n  get component () {\n    return null;\n  }\n}\n\nexport { BreadcrumbButtonActionee };\n","import api from '../../../../api.js';\nimport { ComponentActionee } from '../component-actionee';\nimport { BreadcrumbButtonActionee } from './breadcrumb-button-actionee';\nimport ID from './id';\n\nclass BreadcrumbActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'BreadcrumbActionee';\n  }\n\n  init () {\n    if (!this.isBreakpoint(api.core.Breakpoints.MD)) {\n      this.setDiscloseType();\n      this.register(`[aria-controls=\"${this.id}\"]`, BreadcrumbButtonActionee);\n      this.listenDisclose();\n    } else {\n      this.setImpressionType();\n    }\n  }\n\n  get label () {\n    return 'fil d\\'ariane';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { BreadcrumbActionee };\n","const ID = 'breadcrumb';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\n\nclass BreadcrumbLinkActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'BreadcrumbLinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenClick();\n  }\n\n  handleClick () {\n    this.act();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n    return 'lien fil d\\'ariane';\n  }\n\n  get component () {\n    return null;\n  }\n}\n\nexport { BreadcrumbLinkActionee };\n","import api from '../../../../api.js';\n\nexport const ButtonSelector = {\n  BUTTON: `${api.internals.ns.selector('btn')}:not(${api.internals.ns.selector('btn--close')})`\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\nimport { ButtonEmission } from './button-emission';\n\nclass ButtonActionee extends ComponentActionee {\n  constructor () {\n    super(1, true);\n    this._data = {};\n  }\n\n  static get instanceClassName () {\n    return 'ButtonActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenClick();\n  }\n\n  handleClick () {\n    this.ascend(ButtonEmission.CLICK);\n    this.act();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n    return 'bouton';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ButtonActionee };\n","const ID = 'button';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const AlertSelector = {\n  ALERT: api.internals.ns.selector('alert'),\n  TITLE: api.internals.ns.selector('alert__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { AlertSelector } from './alert-selector';\nimport ID from './id';\n\nclass AlertActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'AlertActionee';\n  }\n\n  init () {\n    this.setImpressionType();\n  }\n\n  get label () {\n    const alertTitle = this.node.querySelector(AlertSelector.TITLE);\n    if (alertTitle) {\n      const text = this.getFirstText(alertTitle);\n      if (text) return text;\n    }\n    return 'alerte';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { AlertActionee };\n","const ID = 'alert';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const BadgeSelector = {\n  BADGE: api.internals.ns.selector('badge')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass BadgeActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'BadgeActionee';\n  }\n\n  init () {\n    this.setImpressionType();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n\n    return 'Badge';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { BadgeActionee };\n","const ID = 'badge';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const CalloutSelector = {\n  CALLOUT: api.internals.ns.selector('callout'),\n  TITLE: api.internals.ns.selector('callout__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { CalloutSelector } from './callout-selector';\nimport ID from './id';\n\nclass CalloutActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'CalloutActionee';\n  }\n\n  init () {\n    this.setImpressionType();\n  }\n\n  get label () {\n    const calloutTitle = this.node.querySelector(CalloutSelector.TITLE);\n    if (calloutTitle) {\n      const text = this.getFirstText(calloutTitle);\n      if (text) return text;\n    }\n\n    return 'mise en avant';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { CalloutActionee };\n","const ID = 'callout';\n\nexport default ID;\n","import api from '../../../../api.js';\n\nexport const ConnectSelector = {\n  CONNECT: api.internals.ns.selector('connect'),\n  LINK: api.internals.ns.selector('connect + * a, connect + a')\n};\n","const ID = 'connect';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass ConnectActionee extends ComponentActionee {\n  constructor () {\n    super(1, true);\n  }\n\n  static get instanceClassName () {\n    return 'ConnectActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenClick();\n  }\n\n  get label () {\n    if (this.node.classList.contains('fr-connect--plus')) return 'FranceConnect+';\n    return 'FranceConnect';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ConnectActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass ConnectLinkActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'ConnectLinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenClick();\n  }\n\n  get label () {\n    return this.getFirstText() || 'Qu\\'est-ce que FranceConnect ?';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ConnectLinkActionee };\n","import api from '../../../../api';\n\nexport const ContentSelector = {\n  CONTENT: api.internals.ns.selector('content-media'),\n  IMG: api.internals.ns.selector('content-media__img')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { ContentSelector } from './content-selector';\nimport ID from './id';\n\nclass ContentActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'ContentActionee';\n  }\n\n  init () {\n    this.setImpressionType();\n  }\n\n  _getImageLabel () {\n    const contentImg = this.querySelector(ContentSelector.IMG);\n    if (!contentImg) return false;\n    const img = contentImg.getElementsByTagName('img')[0];\n    if (img) {\n      const alt = img.getAttribute('alt');\n      if (alt) return alt;\n      const ariaLabel = img.getAttribute('aria-label');\n      if (ariaLabel) return ariaLabel;\n    }\n    const svg = contentImg.getElementsByTagName('svg')[0];\n    if (svg) {\n      const ariaLabel = svg.getAttribute('aria-label');\n      if (ariaLabel) return ariaLabel;\n      const title = svg.querySelector('title');\n      if (title) {\n        const textContent = title.textContent;\n        if (textContent) return textContent.trim();\n      }\n    }\n    return false;\n  }\n\n  get label () {\n    const ariaLabel = this.getAttribute('aria-label');\n    if (ariaLabel) return ariaLabel;\n\n    const imageLabel = this._getImageLabel();\n    if (imageLabel) return imageLabel;\n\n    const iframe = this.querySelector('iframe');\n    if (iframe) {\n      const title = iframe.getAttribute('title');\n      if (title) return title;\n      const ariaLabel = iframe.getAttribute('aria-label');\n      if (ariaLabel) return ariaLabel;\n    }\n\n    const video = this.querySelector('video');\n    if (video) {\n      const ariaLabel = video.getAttribute('aria-label');\n      if (ariaLabel) return ariaLabel;\n    }\n\n    return 'contenu média';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ContentActionee };\n","const ID = 'content-media';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const ConsentSelector = {\n  BANNER: api.internals.ns.selector('consent-banner')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass ConsentActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'ConsentActionee';\n  }\n\n  get label () {\n    return 'gestionnaire de consentement';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ConsentActionee };\n","const ID = 'consent';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const CardSelector = {\n  CARD: api.internals.ns.selector('card'),\n  LINK: `${api.internals.ns.selector('card__title')} a`,\n  TITLE: api.internals.ns.selector('card__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { CardSelector } from './card-selector';\nimport ID from './id';\n\nclass CardActionee extends ComponentActionee {\n  constructor () {\n    super(1, true);\n  }\n\n  static get instanceClassName () {\n    return 'CardActionee';\n  }\n\n  init () {\n    const link = this.node.querySelector(CardSelector.LINK);\n    if (link) {\n      this.link = link;\n      this.detectInteractionType(link);\n      this.listenClick(link);\n    } else this.setImpressionType();\n  }\n\n  get label () {\n    const cardTitle = this.node.querySelector(CardSelector.TITLE);\n    if (cardTitle) {\n      const text = this.getFirstText(cardTitle);\n      if (text) return text;\n    }\n\n    const heading = this.getHeadingLabel();\n    if (heading) return heading;\n\n    return 'carte';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { CardActionee };\n","const ID = 'card';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const CheckboxSelector = {\n  INPUT: api.internals.ns.selector('checkbox-group [type=\"checkbox\"]')\n};\n","import api from '../../../../api.js';\nimport { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass CheckboxActionee extends ComponentActionee {\n  constructor () {\n    super(1, true);\n    this._data = {};\n  }\n\n  static get instanceClassName () {\n    return 'CheckboxActionee';\n  }\n\n  init () {\n    this.detectCheckableType();\n    this.listenCheckable();\n  }\n\n  get label () {\n    const label = this.node.parentNode.querySelector(api.internals.ns.selector('label'));\n    if (label) {\n      const text = this.getFirstText(label);\n      if (text) return text;\n    }\n    return 'case à cocher';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { CheckboxActionee };\n","const ID = 'checkbox';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const DownloadSelector = {\n  LINK: api.internals.ns.selector('download__link')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass DownloadActionee extends ComponentActionee {\n  constructor () {\n    super(1, true);\n  }\n\n  static get instanceClassName () {\n    return 'DownloadActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenClick();\n  }\n\n  get label () {\n    const text = this.getFirstText();\n    if (text) return text;\n    return 'téléchargement';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { DownloadActionee };\n","const ID = 'download';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const FooterSelector = {\n  FOOTER: api.internals.ns.selector('footer'),\n  FOOTER_LINKS: `${api.internals.ns.selector('footer')} a[href], ${api.internals.ns.selector('footer')} button`\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass FooterActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'FooterActionee';\n  }\n\n  init () {\n    this.setImpressionType();\n  }\n\n  get label () {\n    return 'pied de page';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { FooterActionee };\n","const ID = 'footer';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const FollowSelector = {\n  FOLLOW: api.internals.ns.selector('follow'),\n  NEWSLETTER_INPUT_GROUP: api.internals.ns.selector('follow__newsletter') + ' ' + api.internals.ns.selector('input-group')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { FollowSelector } from './follow-selector';\nimport { Type } from '../../../analytics/action/type';\nimport ID from './id';\n\nclass FollowActionee extends ComponentActionee {\n  constructor () {\n    super(2, true);\n  }\n\n  static get instanceClassName () {\n    return 'FollowActionee';\n  }\n\n  init () {\n    this._inputGroup = this.querySelector(FollowSelector.NEWSLETTER_INPUT_GROUP);\n    if (this._inputGroup) {\n      this.listenInputValidation(this._inputGroup, Type.SUBSCRIBE);\n      const input = this.element.getDescendantInstances('InputActionee', null, true)[0];\n      if (input) input.isMuted = true;\n    }\n  }\n\n  get label () {\n    return 'lettre d\\'information et réseaux sociaux';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { FollowActionee };\n","const ID = 'follow';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\n\nclass FooterLinkActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'FooterLinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenClick();\n  }\n\n  get label () {\n    const label = this.getInteractionLabel();\n    if (label) return label;\n\n    return 'lien pied de page';\n  }\n}\n\nexport { FooterLinkActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass HeaderActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'HeaderActionee';\n  }\n\n  init () {\n    this.setImpressionType();\n  }\n\n  get label () {\n    return 'en-tête';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { HeaderActionee };\n","const ID = 'header';\n\nexport default ID;\n","import api from '../../../../api.js';\n\nexport const HeaderSelector = {\n  TOOLS_BUTTON: `${api.internals.ns.selector('header__tools-links')} ${api.internals.ns.selector('btns-group')} ${api.internals.ns.selector('btn')}`,\n  MENU_BUTTON: `${api.internals.ns.selector('header__menu-links')} ${api.internals.ns.selector('btns-group')} ${api.internals.ns.selector('btn')}`\n};\n","import { ComponentActionee } from '../component-actionee';\n\nclass HeaderModalButtonActionee extends ComponentActionee {\n  constructor () {\n    super(4);\n  }\n\n  static get instanceClassName () {\n    return 'HeaderModalButtonActionee';\n  }\n}\n\nexport { HeaderModalButtonActionee };\n","import api from '../../../../api.js';\nimport { ComponentActionee } from '../component-actionee';\nimport { HeaderModalButtonActionee } from './header-modal-button-actionee';\n\nclass HeaderModalActionee extends ComponentActionee {\n  constructor () {\n    super(null, 0);\n  }\n\n  static get instanceClassName () {\n    return 'HeaderModalActionee';\n  }\n\n  init () {\n    if (this.isBreakpoint(api.core.Breakpoints.LG)) {\n      this.setPriority(4);\n      this.register(`[aria-controls=\"${this.id}\"]`, HeaderModalButtonActionee);\n    }\n  }\n}\n\nexport { HeaderModalActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport api from '../../../../api';\n\nclass HeaderToolsButtonActionee extends ComponentActionee {\n  constructor () {\n    super(4);\n  }\n\n  static get instanceClassName () {\n    return 'HeaderToolsButtonActionee';\n  }\n\n  init () {\n    if (this.isBreakpoint(api.core.Breakpoints.LG)) this._priority = -1;\n  }\n}\n\nexport { HeaderToolsButtonActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport api from '../../../../api';\n\nclass HeaderMenuButtonActionee extends ComponentActionee {\n  static get instanceClassName () {\n    return 'HeaderMenuButtonActionee';\n  }\n\n  init () {\n    if (this.isBreakpoint(api.core.Breakpoints.LG)) this.setPriority(4);\n  }\n}\n\nexport { HeaderMenuButtonActionee };\n","import api from '../../../../api';\n\nexport const HighlightSelector = {\n  HIGHLIGHT: api.internals.ns.selector('highlight')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass HighlightActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'HighlightActionee';\n  }\n\n  init () {\n    this.setImpressionType();\n  }\n\n  get label () {\n    return 'mise en exergue';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { HighlightActionee };\n","const ID = 'highlight';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const InputSelector = {\n  INPUT: api.internals.ns.selector('input-group')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport api from '../../../../api.js';\nimport ID from './id';\n\nclass InputActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'InputActionee';\n  }\n\n  init () {\n    this.setImpressionType();\n    this._input = this.querySelector(api.internals.ns.selector('input'));\n    this._label = this.querySelector(api.internals.ns.selector('label'));\n    this._inputWrap = this.querySelector(api.internals.ns.selector('input-wrap'));\n\n    if (this._inputWrap) this.listenInputValidation(this._inputWrap);\n  }\n\n  get label () {\n    if (this._label) {\n      const text = this.getFirstText(this._label);\n      if (text) return text;\n    }\n\n    return 'champ de saisie';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { InputActionee };\n","const ID = 'input';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const LinkSelector = {\n  LINK: api.internals.ns.selector('link')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass LinkActionee extends ComponentActionee {\n  constructor () {\n    super(1, true);\n  }\n\n  static get instanceClassName () {\n    return 'LinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenClick();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n\n    return 'lien';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { LinkActionee };\n","const ID = 'link';\n\nexport default ID;\n","import api from '../../../../../core/api.js';\n\nexport const ModalSelector = {\n  TITLE: api.internals.ns.selector('modal__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { ModalSelector } from './modal-selector.js';\nimport ID from './id';\n\nclass ModalActionee extends ComponentActionee {\n  constructor () {\n    super(2, true);\n  }\n\n  static get instanceClassName () {\n    return 'ModalActionee';\n  }\n\n  init () {\n    this.setDiscloseType();\n    this.detectLevel();\n    this.listenDisclose();\n  }\n\n  get label () {\n    const title = this.node.querySelector(ModalSelector.TITLE);\n\n    if (title) {\n      const text = this.getFirstText(title);\n      if (text) return text;\n    }\n\n    const heading = this.getHeadingLabel(2);\n    if (heading) return heading;\n\n    const instance = this.element.getInstance('Modal');\n    if (instance) {\n      const button = instance.buttons.filter(button => button.isPrimary)[0];\n      if (button) {\n        const text = this.getFirstText(button.node);\n        if (text) return text;\n      }\n    }\n    return 'modale';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ModalActionee };\n","const ID = 'modal';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const NavigationSelector = {\n  LINK: api.internals.ns.selector('nav__link'),\n  BUTTON: api.internals.ns.selector('nav__btn')\n};\n","import { ComponentActionee } from '../component-actionee';\n\nclass NavigationActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'NavigationActionee';\n  }\n\n  get label () {\n    return 'navigation';\n  }\n}\n\nexport { NavigationActionee };\n","import api from '../../../../api';\nimport { ComponentActionee } from '../component-actionee';\nimport { NavigationSelector } from './navigation-selector';\n\nclass NavigationSectionActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'NavigationSectionActionee';\n  }\n\n  init () {\n    this._wrapper = this.node.closest(api.navigation.NavigationSelector.ITEM);\n  }\n\n  get label () {\n    if (this._wrapper) {\n      const button = this._wrapper.querySelector(NavigationSelector.BUTTON);\n      if (button) {\n        const text = this.getFirstText(button);\n        if (text) return text;\n      }\n    }\n\n    const instance = this.element.getInstance('Collapse');\n    if (instance) {\n      const button = instance.buttons.filter(button => button.isPrimary)[0];\n      if (button) {\n        const text = this.getFirstText(button);\n        if (text) return text;\n      }\n    }\n    return 'section de navigation';\n  }\n}\n\nexport { NavigationSectionActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass NavigationLinkActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'NavigationLinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenClick();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n\n    return 'lien de navigation';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { NavigationLinkActionee };\n","const ID = 'navigation';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const NoticeSelector = {\n  NOTICE: api.internals.ns.selector('notice'),\n  TITLE: api.internals.ns.selector('notice__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { NoticeSelector } from './notice-selector';\nimport ID from './id';\n\nclass NoticeActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'NoticeActionee';\n  }\n\n  init () {\n    this.setImpressionType();\n  }\n\n  get label () {\n    const noticeTitle = this.node.querySelector(NoticeSelector.TITLE);\n    if (noticeTitle) {\n      const firstText = this.getFirstText(noticeTitle);\n      if (firstText) return firstText;\n    }\n\n    return 'bandeau d\\'information importante';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { NoticeActionee };\n","const ID = 'notice';\n\nexport default ID;\n","import api from '../../../../api.js';\n\nexport const PaginationSelector = {\n  LINK: api.internals.ns.selector('pagination__link')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass PaginationActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'PaginationActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenClick();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n    return 'pagination';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { PaginationActionee };\n","const ID = 'pagination';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const RadioSelector = {\n  INPUT: api.internals.ns.selector('radio-group [type=\"radio\"]')\n};\n","import api from '../../../../api';\n\nexport const FormSelector = {\n  LABEL: api.internals.ns.selector('label'),\n  FIELDSET: api.internals.ns.selector('fieldset'),\n  LEGEND: api.internals.ns.selector('fieldset__legend')\n};\n","import api from '../../../../api.js';\nimport { ComponentActionee } from '../component-actionee';\nimport { FormSelector } from '../form/form-selector';\nimport ID from './id';\n\nclass RadioActionee extends ComponentActionee {\n  constructor () {\n    super(1, true);\n    this._data = {};\n  }\n\n  static get instanceClassName () {\n    return 'RadioActionee';\n  }\n\n  init () {\n    this.setCheckType();\n    this.listenCheckable();\n  }\n\n  get label () {\n    const parts = [];\n    const fieldset = this.node.closest(FormSelector.FIELDSET);\n    if (fieldset) {\n      const legend = fieldset.querySelector(FormSelector.LEGEND);\n      if (legend) {\n        const firstTextLegend = this.getFirstText(legend);\n        if (firstTextLegend) parts.push(firstTextLegend);\n      }\n    }\n    const label = this.node.parentNode.querySelector(api.internals.ns.selector('label'));\n    if (label) {\n      const firstTextLabel = this.getFirstText(label);\n      if (firstTextLabel) parts.push(firstTextLabel);\n    }\n    return parts.join(' › ');\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { RadioActionee };\n","const ID = 'radio';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const QuoteSelector = {\n  QUOTE: api.internals.ns.selector('quote')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass QuoteActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'QuoteActionee';\n  }\n\n  init () {\n    this.setImpressionType();\n  }\n\n  get label () {\n    const blockquote = this.node.querySelector('blockquote');\n    if (blockquote) {\n      const firstText = this.getFirstText(blockquote);\n      if (firstText) {\n        return firstText;\n      }\n    }\n    return 'citation';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { QuoteActionee };\n","const ID = 'quote';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const SearchSelector = {\n  SEARCH_BAR: api.internals.ns.selector('search-bar')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { Type } from '../../../analytics/action/type';\nimport ID from './id';\n\nclass SearchActionee extends ComponentActionee {\n  constructor () {\n    super(2, true);\n  }\n\n  static get instanceClassName () {\n    return 'SearchActionee';\n  }\n\n  init () {\n    this.listenInputValidation(this.node, Type.SEARCH);\n  }\n\n  get label () {\n    return 'barre de recherche';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { SearchActionee };\n","const ID = 'search';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const SelectSelector = {\n  SELECT: api.internals.ns.selector('select')\n};\n","import api from '../../../../api.js';\nimport { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass SelectActionee extends ComponentActionee {\n  constructor () {\n    super(1, true);\n    this._data = {};\n  }\n\n  static get instanceClassName () {\n    return 'SelectActionee';\n  }\n\n  init () {\n    this.setChangeType();\n    this.listenChange();\n  }\n\n  get label () {\n    const label = this.node.parentNode.querySelector(api.internals.ns.selector('label'));\n    if (label) {\n      const firstText = this.getFirstText(label);\n      if (firstText) return firstText;\n    }\n\n    return 'liste déroulante';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { SelectActionee };\n","const ID = 'select';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const SidemenuSelector = {\n  SIDEMENU: api.internals.ns.selector('sidemenu'),\n  ITEM: api.internals.ns.selector('sidemenu__item'),\n  LINK: api.internals.ns.selector('sidemenu__link'),\n  BUTTON: api.internals.ns.selector('sidemenu__btn'),\n  TITLE: api.internals.ns.selector('sidemenu__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { SidemenuSelector } from './sidemenu-selector';\n\nclass SidemenuActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'SidemenuActionee';\n  }\n\n  get label () {\n    const sidemenu = this.node.closest(SidemenuSelector.SIDEMENU);\n    if (sidemenu) {\n      const title = sidemenu.querySelector(SidemenuSelector.TITLE);\n      if (title) {\n        const firstText = this.getFirstText(title);\n        if (firstText) return firstText;\n      }\n    }\n\n    return 'menu Latéral';\n  }\n}\n\nexport { SidemenuActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass SidemenuLinkActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'SidemenuLinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenClick();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n\n    return 'lien menu latéral';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { SidemenuLinkActionee };\n","const ID = 'sidemenu';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\nimport { SidemenuSelector } from './sidemenu-selector';\n\nclass SidemenuSectionActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'SidemenuSectionActionee';\n  }\n\n  init () {\n    this._wrapper = this.node.closest(SidemenuSelector.ITEM);\n  }\n\n  get label () {\n    if (this._wrapper) {\n      const button = this._wrapper.querySelector(SidemenuSelector.BUTTON);\n      if (button) {\n        const firstText = this.getFirstText(button);\n        if (firstText) return firstText;\n      }\n    }\n    const instance = this.element.getInstance('Collapse');\n    if (instance) {\n      const button = instance.buttons.filter(button => button.isPrimary)[0];\n      if (button) {\n        const firstTextBtn = this.getFirstText(button);\n        if (firstTextBtn) return firstTextBtn;\n      }\n    }\n    return 'section menu latéral';\n  }\n}\n\nexport { SidemenuSectionActionee };\n","import api from '../../../../api';\n\nexport const ShareSelector = {\n  SHARE: api.internals.ns.selector('share'),\n  TITLE: api.internals.ns.selector('share__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\nimport { ShareSelector } from './share-selector';\n\nclass ShareActionee extends ComponentActionee {\n  constructor () {\n    super(1, true);\n  }\n\n  static get instanceClassName () {\n    return 'ShareActionee';\n  }\n\n  init () {\n    this.setImpressionType();\n  }\n\n  get label () {\n    const title = this.querySelector(ShareSelector.TITLE);\n    if (title) {\n      const firstText = this.getFirstText(title);\n      if (firstText) return firstText;\n    }\n    return 'boutons de partage';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ShareActionee };\n","const ID = 'share';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const StepperSelector = {\n  STEPPER: api.internals.ns.selector('stepper')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass StepperActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'StepperActionee';\n  }\n\n  init () {\n    this.setImpressionType();\n  }\n\n  get label () {\n    return 'indicateur d\\'étapes';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { StepperActionee };\n","const ID = 'stepper';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const SummarySelector = {\n  SUMMARY: api.internals.ns.selector('summary'),\n  LINK: api.internals.ns.selector('summary__link'),\n  TITLE: api.internals.ns.selector('summary__title'),\n  ITEM: `${api.internals.ns.selector('summary')} li`\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { SummarySelector } from './summary-selector';\n\nclass SummaryActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'SummaryActionee';\n  }\n\n  get label () {\n    const title = this.node.querySelector(SummarySelector.TITLE);\n    if (title) {\n      const firstText = this.getFirstText(title);\n      if (firstText) return firstText;\n    }\n    return 'sommaire';\n  }\n}\n\nexport { SummaryActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass SummaryLinkActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'SummaryLinkActionee';\n  }\n\n  init () {\n    this.detectInteractionType();\n    this.listenClick();\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n    return 'lien sommaire';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { SummaryLinkActionee };\n","const ID = 'summary';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\nimport { SummarySelector } from './summary-selector';\n\nclass SummarySectionActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'SummarySectionActionee';\n  }\n\n  init () {\n    this._link = this.querySelector(SummarySelector.LINK);\n  }\n\n  validate (target) {\n    return this._link !== target;\n  }\n\n  get label () {\n    if (!this._link) return null;\n    const firstText = this.getFirstText(this._link);\n    if (firstText) return firstText;\n    return 'section sommaire';\n  }\n}\n\nexport { SummarySectionActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass TabButtonActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'TabButtonActionee';\n  }\n\n  init () {\n    this.setClickType();\n    this.id = this.node.id || this.registration.creator.node.id;\n    this.listen('click', this.click.bind(this), { capture: true });\n  }\n\n  click () {\n    this.act();\n  }\n\n  get label () {\n    const text = this.getFirstText();\n    if (text) return text;\n    return 'bouton onglet';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TabButtonActionee };\n","const ID = 'tab';\n\nexport default ID;\n","import api from '../../../../api.js';\nimport { ComponentActionee } from '../component-actionee';\nimport { TabButtonActionee } from './tab-button-actionee';\nimport ID from './id';\n\nclass TabActionee extends ComponentActionee {\n  constructor () {\n    super(2, true);\n  }\n\n  static get instanceClassName () {\n    return 'TabActionee';\n  }\n\n  init () {\n    this.setDiscloseType();\n    this.register(`[aria-controls=\"${this.id}\"]`, TabButtonActionee);\n    this._instance = this.element.getInstance('TabPanel');\n    this.listenDisclose();\n  }\n\n  get label () {\n    const tabs = this.node.closest(api.tab.TabSelector.GROUP);\n    if (tabs) {\n      const tab = tabs.querySelector(`${api.tab.TabSelector.LIST} [aria-controls=\"${this.id}\"]${api.tab.TabSelector.TAB}`);\n      if (tab) {\n        const firstTextTab = this.getFirstText(tab);\n        if (firstTextTab) return firstTextTab;\n      }\n    }\n\n    const button = this._instance.buttons.filter(button => button.isPrimary)[0];\n    if (button) {\n      const firstTextBtn = this.getFirstText(button);\n      if (firstTextBtn) return firstTextBtn;\n    }\n    return 'onglet';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TabActionee };\n","import api from '../../../../api';\n\nexport const TableSelector = {\n  TABLE: api.internals.ns.selector('table')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass TableActionee extends ComponentActionee {\n  constructor () {\n    super(1);\n  }\n\n  static get instanceClassName () {\n    return 'TableActionee';\n  }\n\n  init () {\n    this.setImpressionType();\n  }\n\n  get label () {\n    const caption = this.node.querySelector('caption');\n    if (caption) {\n      const firstText = this.getFirstText(caption);\n      if (firstText) return firstText;\n    }\n    return 'tableau';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TableActionee };\n","const ID = 'table';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const TileSelector = {\n  TILE: api.internals.ns.selector('tile'),\n  LINK: `${api.internals.ns.selector('tile__link')}`,\n  TITLE: api.internals.ns.selector('tile__title')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { TileSelector } from './tile-selector';\nimport ID from './id';\n\nclass TileActionee extends ComponentActionee {\n  constructor () {\n    super(1, true);\n  }\n\n  static get instanceClassName () {\n    return 'TileActionee';\n  }\n\n  init () {\n    const link = this.node.querySelector(TileSelector.LINK);\n    if (link) {\n      this.link = link;\n      this.detectInteractionType(link);\n      this.listenClick(link);\n    } else this.setImpressionType();\n  }\n\n  get label () {\n    const tileTitle = this.node.querySelector(TileSelector.TITLE);\n    if (tileTitle) return this.getFirstText(tileTitle);\n\n    const heading = this.getHeadingLabel();\n    if (heading) return heading;\n\n    return 'tuile';\n  }\n\n  get component () {\n    return ID;\n  }\n\n}\n\nexport { TileActionee };\n","const ID = 'tile';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const ToggleSelector = {\n  INPUT: api.internals.ns.selector('toggle [type=\"checkbox\"]')\n};\n","import api from '../../../../api.js';\nimport { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass ToggleActionee extends ComponentActionee {\n  constructor () {\n    super(1, true);\n    this._data = {};\n  }\n\n  static get instanceClassName () {\n    return 'ToggleActionee';\n  }\n\n  init () {\n    this.detectCheckableType();\n    this.listenCheckable();\n  }\n\n  get label () {\n    const label = this.node.parentNode.querySelector(api.internals.ns.selector('toggle__label'));\n    if (label) {\n      const firstText = this.getFirstText(label);\n      if (firstText) return firstText;\n    }\n\n    return 'interrupteur';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { ToggleActionee };\n","const ID = 'toggle';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const TagSelector = {\n  TAG: api.internals.ns.selector('tag'),\n  PRESSABLE: '[aria-pressed]',\n  DISMISSIBLE: `${api.internals.ns.selector('tag--dismiss', '')}`\n};\n","import { ComponentActionee } from '../component-actionee';\nimport { TagSelector } from './tag-selector';\nimport ID from './id';\n\nclass TagActionee extends ComponentActionee {\n  constructor () {\n    super(2, true);\n  }\n\n  static get instanceClassName () {\n    return 'TagActionee';\n  }\n\n  init () {\n    switch (true) {\n      case this.detectPressableType():\n        this.listenPressable();\n        break;\n\n      case this.isInteractive && this.node.classList.contains(TagSelector.DISMISSIBLE):\n        this.setDismissType();\n        this.listenClick();\n        break;\n\n      case this.isInteractive:\n        this.detectInteractionType();\n        this.listenClick();\n        break;\n\n      default:\n        this.setImpressionType();\n    }\n  }\n\n  get label () {\n    const firstText = this.getFirstText();\n    if (firstText) return firstText;\n\n    return 'tag';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TagActionee };\n","const ID = 'tag';\n\nexport default ID;\n","import api from '../../../../api';\n\nexport const TranscriptionSelector = {\n  TRANSCRIPTION: api.internals.ns.selector('transcription'),\n  COLLAPSE: `${api.internals.ns.selector('transcription')} ${api.internals.ns.selector('collapse')}`,\n  TITLE: api.internals.ns.selector('transcription__title')\n};\n","const ID = 'transcription';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass TranscriptionButtonActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'TranscriptionButtonActionee';\n  }\n\n  init () {\n    this.setClickType();\n    this.id = this.node.id || this.registration.creator.node.id;\n    this.listenClick();\n  }\n\n  get button () {\n    return this.element.getInstance('CollapseButton');\n  }\n\n  handleClick () {\n    const button = this.button;\n    if (button && !button.disclosed) this.act();\n  }\n\n  get label () {\n    const text = this.getFirstText();\n    if (text) return text;\n    return 'bouton transcription';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TranscriptionButtonActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport { TranscriptionSelector } from './transcription-selector';\nimport { TranscriptionButtonActionee } from './transcription-button-actionee';\nimport ID from './id';\n\nclass TranscriptionActionee extends ComponentActionee {\n  constructor () {\n    super(2, true);\n  }\n\n  static get instanceClassName () {\n    return 'TranscriptionActionee';\n  }\n\n  init () {\n    this.setDiscloseType();\n    this.wrapper = this.node.closest(TranscriptionSelector.ACCORDION);\n    this.detectLevel(this.wrapper);\n    this.register(`[aria-controls=\"${this.id}\"]`, TranscriptionButtonActionee);\n    this.listenDisclose();\n  }\n\n  get label () {\n    if (this.wrapper) {\n      const title = this.wrapper.querySelector(TranscriptionSelector.TITLE);\n      if (title) {\n        const firstTextTitle = this.getFirstText(title);\n        if (firstTextTitle) return firstTextTitle;\n      }\n    }\n    const instance = this.element.getInstance('Collapse');\n    if (instance) {\n      const button = instance.buttons.filter(button => button.isPrimary)[0];\n      if (button) {\n        const firstTextBtn = this.getFirstText(button);\n        if (firstTextBtn) return firstTextBtn;\n      }\n    }\n    return 'transcription';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TranscriptionActionee };\n","import api from '../../../../api';\n\nexport const TranslateSelector = {\n  BUTTON: api.internals.ns.selector('translate__btn')\n};\n","const ID = 'translate';\n\nexport default ID;\n","import { ComponentActionee } from '../component-actionee';\nimport ID from './id';\n\nclass TranslateButtonActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'TranslateButtonActionee';\n  }\n\n  init () {\n    this.setClickType();\n    this.id = this.node.id || this.registration.creator.node.id;\n    this.listenClick();\n  }\n\n  get button () {\n    return this.element.getInstance('CollapseButton');\n  }\n\n  handleClick () {\n    const button = this.button;\n    if (button && !button.disclosed) this.act();\n  }\n\n  get label () {\n    const label = this.getInteractionLabel();\n    if (label) return label;\n    return 'bouton sélecteur de langue';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TranslateButtonActionee };\n","import { ComponentActionee } from '../component-actionee';\nimport { TranslateSelector } from './translate-selector';\nimport { TranslateButtonActionee } from './translate-button-actionee';\nimport ID from './id';\n\nclass TranslateActionee extends ComponentActionee {\n  constructor () {\n    super(2);\n  }\n\n  static get instanceClassName () {\n    return 'TranslateActionee';\n  }\n\n  init () {\n    this.setDiscloseType();\n    this.register(`[aria-controls=\"${this.id}\"]`, TranslateButtonActionee);\n    this.listenDisclose();\n  }\n\n  get label () {\n    const button = this.node.querySelector(TranslateSelector.BUTTON);\n    if (button) {\n      const title = button.getAttribute('title');\n      if (title) return title;\n    }\n\n    return 'sélecteur de langue';\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { TranslateActionee };\n","import api from '../../../../api';\n\nexport const UploadSelector = {\n  UPLOAD: api.internals.ns.selector('upload')\n};\n","import { ComponentActionee } from '../component-actionee';\nimport api from '../../../../api.js';\nimport ID from './id';\n\nclass UploadActionee extends ComponentActionee {\n  constructor () {\n    super(1, true);\n  }\n\n  static get instanceClassName () {\n    return 'UploadActionee';\n  }\n\n  init () {\n    this.setClickType();\n    this._label = this.node.parentNode.querySelector(api.internals.ns.selector('label'));\n    this.listenClick();\n  }\n\n  get label () {\n    if (this._label) {\n      const text = this.getFirstText(this._label);\n      if (text) return text;\n    }\n\n    return 'ajout de fichier';\n  }\n\n  getData () {\n    return { component_value: this.node.value.trim() };\n  }\n\n  get component () {\n    return ID;\n  }\n}\n\nexport { UploadActionee };\n","const ID = 'upload';\n\nexport default ID;\n","// import './core/core';\nimport integrateAttributes from './attributes/attributes';\nimport integrateComponents from './component/components';\n\nconst integration = () => {\n  integrateAttributes();\n  integrateComponents();\n};\n\nexport default integration;\n","import api from '../../../api';\nimport Type from '../../analytics/action/type';\nimport { AttributeActionee } from './attribute-actionee';\n\nconst integrateAttributes = () => {\n  Object.values(Type)\n    .filter(type => type.attributed)\n    .forEach(type => api.internals.register(api.internals.ns.attr.selector(`analytics-${type.id}`), AttributeActionee));\n};\n\nexport default integrateAttributes;\n","import api from '../../../api';\nimport { AccordionActionee } from './accordion/accordion-actionee';\nimport { BreadcrumbSelector } from './breadcrumb/breadcrumb-selector';\nimport { BreadcrumbActionee } from './breadcrumb/breadcrumb-actionee';\nimport { BreadcrumbLinkActionee } from './breadcrumb/breadcrumb-link-actionee';\nimport { ButtonSelector } from './button/button-selector';\nimport { ButtonActionee } from './button/button-actionee';\nimport { AlertSelector } from './alert/alert-selector';\nimport { AlertActionee } from './alert/alert-actionee';\nimport { BadgeSelector } from './badge/badge-selector';\nimport { BadgeActionee } from './badge/badge-actionee';\nimport { CalloutSelector } from './callout/callout-selector';\nimport { CalloutActionee } from './callout/callout-actionee';\nimport { ConnectSelector } from './connect/connect-selector';\nimport { ConnectActionee } from './connect/connect-actionee';\nimport { ConnectLinkActionee } from './connect/connect-link-actionee';\nimport { ContentSelector } from './content/content-selector';\nimport { ContentActionee } from './content/content-actionee';\nimport { ConsentSelector } from './consent/consent-selector';\nimport { ConsentActionee } from './consent/consent-actionee';\nimport { CardSelector } from './card/card-selector';\nimport { CardActionee } from './card/card-actionee';\nimport { CheckboxSelector } from './checkbox/checkbox-selector';\nimport { CheckboxActionee } from './checkbox/checkbox-actionee';\nimport { DownloadSelector } from './download/download-selector';\nimport { DownloadActionee } from './download/download-actionee';\nimport { FooterSelector } from './footer/footer-selector';\nimport { FooterActionee } from './footer/footer-actionee';\nimport { FollowSelector } from './follow/follow-selector';\nimport { FollowActionee } from './follow/follow-actionee';\nimport { FooterLinkActionee } from './footer/footer-link-actionee';\nimport { HeaderActionee } from './header/header-actionee';\nimport { HeaderSelector } from './header/header-selector';\nimport { HeaderModalActionee } from './header/header-modal-actionee';\nimport { HeaderToolsButtonActionee } from './header/header-tools-button-actionee';\nimport { HeaderMenuButtonActionee } from './header/header-menu-button-actionee';\nimport { HighlightSelector } from './highlight/highlight-selector';\nimport { HighlightActionee } from './highlight/highlight-actionee';\nimport { InputSelector } from './input/input-selector';\nimport { InputActionee } from './input/input-actionee';\nimport { LinkSelector } from './link/link-selector';\nimport { LinkActionee } from './link/link-actionee';\nimport { ModalActionee } from './modal/modal-actionee';\nimport { NavigationSelector } from './navigation/navigation-selector';\nimport { NavigationActionee } from './navigation/navigation-actionee';\nimport { NavigationSectionActionee } from './navigation/navigation-section-actionee';\nimport { NavigationLinkActionee } from './navigation/navigation-link-actionee';\nimport { NoticeSelector } from './notice/notice-selector';\nimport { NoticeActionee } from './notice/notice-actionee';\nimport { PaginationSelector } from './pagination/pagination-selector';\nimport { PaginationActionee } from './pagination/pagination-actionee';\nimport { RadioSelector } from './radio/radio-selector';\nimport { RadioActionee } from './radio/radio-actionee';\nimport { QuoteSelector } from './quote/quote-selector';\nimport { QuoteActionee } from './quote/quote-actionee';\nimport { SearchSelector } from './search/search-selector';\nimport { SearchActionee } from './search/search-actionee';\nimport { SelectSelector } from './select/select-selector';\nimport { SelectActionee } from './select/select-actionee';\nimport { SidemenuSelector } from './sidemenu/sidemenu-selector';\nimport { SidemenuActionee } from './sidemenu/sidemenu-actionee';\nimport { SidemenuLinkActionee } from './sidemenu/sidemenu-link-actionee';\nimport { SidemenuSectionActionee } from './sidemenu/sidemenu-section-actionee';\nimport { ShareSelector } from './share/share-selector';\nimport { ShareActionee } from './share/share-actionee';\nimport { StepperSelector } from './stepper/stepper-selector';\nimport { StepperActionee } from './stepper/stepper-actionee';\nimport { SummarySelector } from './summary/summary-selector';\nimport { SummaryActionee } from './summary/summary-actionee';\nimport { SummaryLinkActionee } from './summary/summary-link-actionee';\nimport { SummarySectionActionee } from './summary/summary-section-actionee';\nimport { TabActionee } from './tab/tab-actionee';\nimport { TableSelector } from './table/table-selector';\nimport { TableActionee } from './table/table-actionee';\nimport { TileSelector } from './tile/tile-selector';\nimport { TileActionee } from './tile/tile-actionee';\nimport { ToggleSelector } from './toggle/toggle-selector';\nimport { ToggleActionee } from './toggle/toggle-actionee';\nimport { TagSelector } from './tag/tag-selector';\nimport { TagActionee } from './tag/tag-actionee';\nimport { TranscriptionSelector } from './transcription/transcription-selector';\nimport { TranscriptionActionee } from './transcription/transcription-actionee';\nimport { TranslateSelector } from './translate/translate-selector';\nimport { TranslateActionee } from './translate/translate-actionee';\nimport { UploadSelector } from './upload/upload-selector';\nimport { UploadActionee } from './upload/upload-actionee';\n\nconst integrateComponents = () => {\n  if (api.accordion) {\n    api.internals.register(api.accordion.AccordionSelector.COLLAPSE, AccordionActionee);\n  }\n\n  if (api.breadcrumb) {\n    api.internals.register(BreadcrumbSelector.COLLAPSE, BreadcrumbActionee);\n    api.internals.register(BreadcrumbSelector.LINK, BreadcrumbLinkActionee);\n  }\n\n  api.internals.register(AlertSelector.ALERT, AlertActionee);\n\n  api.internals.register(BadgeSelector.BADGE, BadgeActionee);\n\n  api.internals.register(ButtonSelector.BUTTON, ButtonActionee);\n\n  api.internals.register(CalloutSelector.CALLOUT, CalloutActionee);\n\n  api.internals.register(ConnectSelector.CONNECT, ConnectActionee);\n  api.internals.register(ConnectSelector.LINK, ConnectLinkActionee);\n\n  api.internals.register(ContentSelector.CONTENT, ContentActionee);\n\n  api.internals.register(ConsentSelector.BANNER, ConsentActionee);\n\n  api.internals.register(CardSelector.CARD, CardActionee);\n\n  api.internals.register(InputSelector.INPUT, InputActionee);\n\n  api.internals.register(CheckboxSelector.INPUT, CheckboxActionee);\n\n  api.internals.register(DownloadSelector.LINK, DownloadActionee);\n\n  api.internals.register(FooterSelector.FOOTER, FooterActionee);\n  api.internals.register(FooterSelector.FOOTER_LINKS, FooterLinkActionee);\n\n  api.internals.register(FollowSelector.FOLLOW, FollowActionee);\n\n  if (api.header) {\n    api.internals.register(api.header.HeaderSelector.HEADER, HeaderActionee);\n    api.internals.register(api.header.HeaderSelector.MODALS, HeaderModalActionee);\n    api.internals.register(HeaderSelector.TOOLS_BUTTON, HeaderToolsButtonActionee);\n    api.internals.register(HeaderSelector.MENU_BUTTON, HeaderMenuButtonActionee);\n  }\n\n  api.internals.register(HighlightSelector.HIGHLIGHT, HighlightActionee);\n\n  api.internals.register(LinkSelector.LINK, LinkActionee);\n\n  if (api.modal) {\n    api.internals.register(api.modal.ModalSelector.MODAL, ModalActionee);\n  }\n\n  if (api.navigation) {\n    api.internals.register(api.navigation.NavigationSelector.NAVIGATION, NavigationActionee);\n    api.internals.register(NavigationSelector.LINK, NavigationLinkActionee);\n    api.internals.register(api.navigation.NavigationSelector.COLLAPSE, NavigationSectionActionee);\n  }\n\n  api.internals.register(NoticeSelector.NOTICE, NoticeActionee);\n\n  api.internals.register(PaginationSelector.LINK, PaginationActionee);\n\n  api.internals.register(QuoteSelector.QUOTE, QuoteActionee);\n\n  api.internals.register(RadioSelector.INPUT, RadioActionee);\n\n  api.internals.register(SearchSelector.SEARCH_BAR, SearchActionee);\n\n  api.internals.register(SelectSelector.SELECT, SelectActionee);\n\n  if (api.sidemenu) {\n    api.internals.register(SidemenuSelector.SIDEMENU, SidemenuActionee);\n    api.internals.register(SidemenuSelector.LINK, SidemenuLinkActionee);\n    api.internals.register(api.sidemenu.SidemenuSelector.COLLAPSE, SidemenuSectionActionee);\n  }\n\n  api.internals.register(ShareSelector.SHARE, ShareActionee);\n\n  api.internals.register(StepperSelector.STEPPER, StepperActionee);\n\n  api.internals.register(SummarySelector.SUMMARY, SummaryActionee);\n  api.internals.register(SummarySelector.LINK, SummaryLinkActionee);\n  api.internals.register(SummarySelector.ITEM, SummarySectionActionee);\n\n  if (api.tab) {\n    api.internals.register(api.tab.TabSelector.PANEL, TabActionee);\n  }\n\n  api.internals.register(TableSelector.TABLE, TableActionee);\n\n  api.internals.register(TagSelector.TAG, TagActionee);\n\n  api.internals.register(TileSelector.TILE, TileActionee);\n\n  api.internals.register(ToggleSelector.INPUT, ToggleActionee);\n\n  api.internals.register(TranscriptionSelector.COLLAPSE, TranscriptionActionee);\n\n  api.internals.register(TranslateSelector.COLLAPSE, TranslateActionee);\n\n  api.internals.register(UploadSelector.UPLOAD, UploadActionee);\n};\n\nexport default integrateComponents;\n","import api from './index.js';\nimport integration from './script/integration/integration';\n\napi.analytics.readiness.then(() => integration());\n\nexport default api;\n"],"names":["const","api","window","patch","Collection","MANUAL","LOAD","FULL","HASH","key","Opt","this","_configure","scope","isDisabled","toggle","bind","localStorage","getItem","enable","disable","removeItem","setItem","opt","PUSH","Init","domain","_domain","_isLoaded","_promise","Promise","resolve","reject","_resolve","_reject","id","_id","store","_store","configure","init","bit","i","length","charCodeAt","eah","push","args","load","stamp","Date","offset","String","fromCharCode","_script","document","createElement","ea","async","addEventListener","loaded","error","src","node","getElementsByTagName","parentNode","insertBefore","inspector","State","TarteAuCitronIntegration","config","_config","_state","info","tarteaucitron","services","data","type","name","needConsent","cookies","uri","js","fallback","eulerian","job","requestAnimationFrame","__eaGenericCmpApi","integrate","update","cmpApi","_cmpApi","ConsentManagerPlatform","integrateTarteAuCitron","_tac","layer","EA_push","warn","PushType","COLLECTOR","ACTION","ACTION_PARAMETER","ActionMode","IN","OUT","NONE","normalize","text","map","char","RESTRICTED","code","toString","slice","charCodeHex","join","replace","toLowerCase","validateString","value","allowNull","undefined","validateNumber","isNaN","Number","validateBoolean","validateLang","test","split","validateGeography","ActionStatus","getParametersLayer","Object","entries","flat","Action","_isMuted","_name","_status","_labels","_parameters","_isRatingActive","isMuted","status","labels","reference","_reference","parameters","singularize","rewind","isRatingActive","addParameter","removeParameter","valid","_base","_getLayer","mode","some","label","apply","assign","start","let","isRatingEnabled","end","resume","Actions","_actions","enableRating","forEach","action","getAction","filter","hasAction","remove","index","indexOf","splice","actions","instance","Renderer","_renderables","_rendering","render","add","renderable","renderer","Queue","_startingActions","_endingActions","_handlingVisibilityChange","_handleVisibilityChange","_handlingEnd","_handleEnd","_isStarted","_isListening","reset","ending","_type","_collectionLayer","_count","_delay","_isRequested","_unlisten","collect","_request","appendStartingAction","log","appendEndingAction","_listen","removeEventListener","e","visibilityState","send","actionLayers","slices","queue","Debug","debugger","_oEa","isActive","_dbg","debug","Status","CONNECTED","isConnected","isDefault","ANONYMOUS","GUEST","Profile","VISITOR","LOOKER","SHOPPER","BUYER","REBUYER","Type","INDIVIDUAL","PROFESSIONNAL","User","clear","_isConnected","connect","uid","email","isNew","_uid","_email","_isNew","profile","language","stati","values","_profile","_language","navigator","Environment","DEVELOPMENT","STAGE","PRODUCTION","Site","environment","entity","target","region","department","_api","version","_environment","_entity","documentElement","lang","_target","_region","_department","Page","path","referrer","title","_categories","categories","isError","template","group","segment","subtemplate","theme","subtheme","related","depth","current","total","_filters","filters","_path","location","_referrer","_title","_isError","_template","_segment","_group","_subtemplate","_theme","_subtheme","_related","_depth","_current","_total","category","pagination","Method","STANDARD","AUTOCOMPLETE","Search","engine","results","terms","method","_engine","_results","_terms","_category","methods","_method","Funnel","step","objective","_step","_objective","_error","Location","onChange","isListeningHash","_onChange","_isListeningHash","_update","_pathname","pathname","_search","search","_hash","hash","_hasTitle","change","hasTitle","CollectorEvent","COLLECT","internals","ns","event","ActioneeEmission","REWIND","emission","Collector","collection","_collection","Modes","ANGULAR","REACT","VUE","_user","user","_site","site","_page","page","_funnel","funnel","_isCollected","handleChange","_handleChange","_location","_changed","CustomEvent","dispatchEvent","stage","root","descend","Analytics","_isReady","_readiness","configuration","analytics","promise","then","_build","_init","_start","isReady","readiness","_cmp","cmp","_collector","isDebugging","sources","source","descriptors","keys","reduce","getOwnPropertyDescriptor","getOwnPropertySymbols","sym","descriptor","enumerable","defineProperties","completeAssign","IMPRESSION","isSingular","isBeginning","attributed","CLICK","INTERNAL","EXTERNAL","DOWNLOAD","BUTTON","DOUBLE_CLICK","OPEN","COMPLETE","FOCUS","ERROR","ADD","REMOVE","DISPLAY","CHANGE","PROGRESS","SHARE","PRESS","RELEASE","DISMISS","UPLOAD","CHECK","UNCHECK","SELECT","SUBSCRIBE","DISCLOSE","SEARCH","SHOW","HIDE","AUTOPLAY","PLAY","PAUSE","END","NODE_POSITION","Node","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_CONTAINED_BY","Heading","heading","_label","textContent","trim","_level","tagName","charAt","level","Member","_node","_component","_isValid","analyse","_parseHeadings","selector","Array","from","v","_headings","querySelectorAll","compareDocumentPosition","reverse","_getComponent","element","actionee","isActionee","sort","a","b","priority","validate","closest","component","_getHeading","unshift","isValid","Hierarchy","_process","member","_members","contains","components","_localComponent","_globalComponent","localComponent","globalComponent","ActionElement","_hasBegun","_hierarchy","_action","begin","prototypeAccessors","act","dispose","Actionee","super","_priority","_data","staticAccessors","instanceClassName","proxy","members","proxyAccessors","property","registration","_actionElement","addDescent","actionees","instances","setPriority","isInteractive","detectInteractionType","tag","href","getAttribute","isDownload","hasAttribute","hostname","component_value","setClickType","listenClick","_clickTarget","_clickHandler","handleClick","capture","listen","setImpressionType","getFirstText","childNodes","nodeType","TEXT_NODE","cropText","substring","getInteractionLabel","img","querySelector","alt","getHeadingLabel","headings","detectLevel","levels","Math","min","actionElement","core","Instance","AttributeActionee","_attribute","pop","handleEvent","change_value","ButtonEmission","ComponentActionee","setDiscloseType","listenDisclose","DisclosureEvent","_handleDisclose","setChangeType","listenChange","listenInputValidation","addAscent","_actValidatedInput","button","getDescendantInstances","_validatedInput","_inputValidationHandler","_handleInputValidation","keyCode","_isActingValidatedInput","request","setCheckType","detectCheckableType","isChecked","checked","listenCheckable","_handleCheckable","detectPressableType","isPressable","isPressed","listenPressable","_handlePressable","setDismissType","AccordionSelector","ACCORDION","TITLE","ID","AccordionButtonActionee","creator","getInstance","disclosed","firstText","AccordionActionee","wrapper","register","buttons","isPrimary","BreadcrumbSelector","LINK","COLLAPSE","BreadcrumbButtonActionee","isBreakpoint","Breakpoints","MD","BreadcrumbActionee","BreadcrumbLinkActionee","ButtonSelector","ButtonActionee","ascend","AlertSelector","ALERT","AlertActionee","alertTitle","BadgeSelector","BADGE","BadgeActionee","CalloutSelector","CALLOUT","CalloutActionee","calloutTitle","ConnectSelector","CONNECT","ConnectActionee","classList","ConnectLinkActionee","ContentSelector","CONTENT","IMG","ContentActionee","_getImageLabel","contentImg","ariaLabel","svg","imageLabel","iframe","video","ConsentSelector","BANNER","ConsentActionee","CardSelector","CARD","CardActionee","link","cardTitle","CheckboxSelector","INPUT","CheckboxActionee","DownloadSelector","DownloadActionee","FooterSelector","FOOTER","FOOTER_LINKS","FooterActionee","FollowSelector","FOLLOW","NEWSLETTER_INPUT_GROUP","FollowActionee","_inputGroup","input","FooterLinkActionee","HeaderActionee","HeaderSelector","TOOLS_BUTTON","MENU_BUTTON","HeaderModalButtonActionee","HeaderModalActionee","LG","HeaderToolsButtonActionee","HeaderMenuButtonActionee","HighlightSelector","HIGHLIGHT","HighlightActionee","InputSelector","InputActionee","_input","_inputWrap","LinkSelector","LinkActionee","ModalSelector","ModalActionee","NavigationSelector","NavigationActionee","NavigationSectionActionee","_wrapper","navigation","ITEM","NavigationLinkActionee","NoticeSelector","NOTICE","NoticeActionee","noticeTitle","PaginationSelector","PaginationActionee","RadioSelector","FormSelector","LABEL","FIELDSET","LEGEND","RadioActionee","parts","fieldset","legend","firstTextLegend","firstTextLabel","QuoteSelector","QUOTE","QuoteActionee","blockquote","SearchSelector","SEARCH_BAR","SearchActionee","SelectSelector","SelectActionee","SidemenuSelector","SIDEMENU","SidemenuActionee","sidemenu","SidemenuLinkActionee","SidemenuSectionActionee","firstTextBtn","ShareSelector","ShareActionee","StepperSelector","STEPPER","StepperActionee","SummarySelector","SUMMARY","SummaryActionee","SummaryLinkActionee","SummarySectionActionee","_link","TabButtonActionee","click","TabActionee","_instance","tabs","tab","TabSelector","GROUP","firstTextTab","TableSelector","TABLE","TableActionee","caption","TileSelector","TILE","TileActionee","tileTitle","ToggleSelector","ToggleActionee","TagSelector","TAG","PRESSABLE","DISMISSIBLE","TagActionee","TranscriptionSelector","TRANSCRIPTION","TranscriptionButtonActionee","TranscriptionActionee","firstTextTitle","TranslateSelector","TranslateButtonActionee","TranslateActionee","UploadSelector","UploadActionee","getData","integration","attr","accordion","breadcrumb","header","HEADER","MODALS","modal","MODAL","NAVIGATION","PANEL"],"mappings":"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"}